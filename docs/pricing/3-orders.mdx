---
sidebar_position: 3
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import { GetOrderApiSample, GetOrderSample, UpdateOrderSample, UpdateOrderApiSample } from './code-samples.tsx'

# Orders

An Order is a collection of products and prices purchased by a customer. Create orders manually or through automations triggered by events like journey submissions.

Orders use the same [flexible entity](/docs/entities/flexible-entities) system as all other epilot entities.

<img
  style={{ boxShadow: '#a2a2a2 0px 0px 25px -8px', borderRadius: '5px' }}
  src="/img/order-detailsview.png"
  alt="Order Details View"
/>

## Managing Orders via Pricing API {#managing-orders-via-pricing-api}

The [Entity API](/docs/entities/entity-api) handles basic data operations, but orders require additional logic: lifecycle management, state transitions, and line-item total recomputation.

Use the [Pricing API](/api/pricing) for all programmatic order operations. It wraps the Entity API with this logic.

### Example: Updating an Order {#example-updating-an-order}

Order `line_items` changes must go through the [Pricing API](/api/pricing) to recompute totals correctly.

Both examples authenticate with an [Org Access Token (OAT)](/docs/auth/access-tokens):

<Tabs lazy>
  <TabItem value="api" label="API" default>
    <GetOrderApiSample/>
  </TabItem>
  <TabItem value="sdk" label="SDK (Javascript)">
    <GetOrderSample />
  </TabItem>
</Tabs>

Modify the `line_items` and send a PUT request. The update is a full replacement -- no PATCH endpoint exists for partial updates.

<Tabs lazy>
  <TabItem value="api" label="API" default>
    <UpdateOrderApiSample />
  </TabItem>
  <TabItem value="sdk" label="SDK (Javascript)">
    <UpdateOrderSample />
  </TabItem>
</Tabs>
