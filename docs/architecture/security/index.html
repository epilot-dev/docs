<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/api/changelog/rss.xml" title="epilot API Changelog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/api/changelog/atom.xml" title="epilot API Changelog Atom Feed">
<link rel="alternate" type="application/json" href="/api/changelog/feed.json" title="epilot API Changelog JSON Feed"><title data-react-helmet="true">Security | epilot dev center</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.epilot.io/docs/architecture/security"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Security | epilot dev center"><meta data-react-helmet="true" name="description" content="epilot runs on AWS with security enforced at every layer: multi-tenant isolation, authentication, authorization, encryption, and API protection."><meta data-react-helmet="true" property="og:description" content="epilot runs on AWS with security enforced at every layer: multi-tenant isolation, authentication, authorization, encryption, and API protection."><link data-react-helmet="true" rel="icon" href="/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.epilot.io/docs/architecture/security"><link data-react-helmet="true" rel="alternate" href="https://docs.epilot.io/docs/architecture/security" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.epilot.io/docs/architecture/security" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c89cbd0d.css">
<link rel="preload" href="/assets/js/runtime~main.0a7aa959.js" as="script">
<link rel="preload" href="/assets/js/main.a7ad3df0.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="epilot" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.png" alt="epilot" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Dev Center</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/api">REST API</a><a class="navbar__item navbar__link" href="/docs/architecture/sdk">SDK</a><a class="navbar__item navbar__link" href="/docs/apps">Apps</a></div><div class="navbar__items navbar__items--right"><a href="https://marketplace.epilot.cloud/en" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-button navbar-button--secondary"><span>Marketplace<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://portal.epilot.cloud" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-button navbar-button--primary"><span>Log in<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/architecture/overview">Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/overview">Tech Stack &amp; Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/api-first">API First</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/microfrontends">Microfrontends</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/sdk">SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/design-system">Design System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/architecture/security">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/serverless">Serverless</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/continuous-delivery">Continuous Delivery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/open-source">Open Source</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai/overview">AI in epilot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/datalake/epilot-datalake">Datalake</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/audit-logs">Audit Logs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/auth/authentication">Auth &amp; Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/entities/flexible-entities">Entities</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/journeys/journey-builder">Journeys</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/messaging/email-settings">Messaging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/notes/intro">Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/templates/template-variables">Templates</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/portals/customer-portal">Portals</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/automation/intro">Automation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/workflows/intro">Workflows</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/blueprints/intro">Blueprints</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/pricing/">Pricing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/integrations/overview">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/apps">Apps</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Security Architecture</h1><p>epilot runs on AWS with security enforced at every layer: multi-tenant isolation, authentication, authorization, encryption, and API protection.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>epilot is <strong>ISO 27001:2022 certified</strong> and undergoes regular penetration testing by independent security firms. The security strategy aligns with OWASP ASVS and the AWS Well-Architected Framework.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="multi-tenant-architecture">Multi-Tenant Architecture<a class="hash-link" href="#multi-tenant-architecture" title="Direct link to heading">â€‹</a></h2><p>epilot is a multi-tenant platform where each organization operates in a securely isolated environment. Tenant isolation is enforced at multiple levels so one organization&#x27;s data is never accessible to another.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="per-organization-user-pools">Per-Organization User Pools<a class="hash-link" href="#per-organization-user-pools" title="Direct link to heading">â€‹</a></h3><p>Each tenant organization gets its own <strong>AWS Cognito User Pool</strong> for identity management:</p><ul><li><strong>Complete identity isolation</strong> â€” users, credentials, and authentication policies are scoped to a single organization</li><li><strong>Independent SSO and MFA configuration</strong> â€” each organization configures Single Sign-On and Multi-Factor Authentication via Organization Settings</li><li><strong>Dedicated token issuance</strong> â€” OAuth 2.0 tokens are issued per-organization with the organization ID embedded in token claims</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="organization-scoped-api-routing">Organization-Scoped API Routing<a class="hash-link" href="#organization-scoped-api-routing" title="Direct link to heading">â€‹</a></h3><p>Every API call executes in the context of a single organization. The caller&#x27;s JWT contains the source organization ID, which the API Gateway authorizer validates and passes to backend microservices.</p><p>For cross-organization scenarios (such as partner data sharing), the <code>x-epilot-org-id</code> header specifies a target organization. When present:</p><ul><li>The acting organization context switches to the target organization</li><li>Permission checks evaluate against the target organization&#x27;s grants</li><li>The caller must have explicit sharing permissions from the target organization</li></ul><p>When omitted, the user&#x27;s home organization from their token applies.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="data-isolation">Data Isolation<a class="hash-link" href="#data-isolation" title="Direct link to heading">â€‹</a></h3><p>Backend services enforce tenant boundaries at the data layer:</p><ul><li><strong>Database queries</strong> are always scoped to the acting organization ID</li><li><strong>Elasticsearch indices</strong> use organization-level isolation for entity search</li><li><strong>S3 storage</strong> uses organization-prefixed paths for file and document storage</li><li><strong>DynamoDB tables</strong> use organization ID as part of the partition key</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="authentication">Authentication<a class="hash-link" href="#authentication" title="Direct link to heading">â€‹</a></h2><p>epilot uses <a href="https://oauth.net/2/" target="_blank" rel="noopener noreferrer">OAuth 2.0</a> for authentication via AWS Cognito. See <a href="/docs/auth/authentication">Authentication</a> for full details.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="authentication-flow">Authentication Flow<a class="hash-link" href="#authentication-flow" title="Direct link to heading">â€‹</a></h3><ol><li><strong>User login</strong> â€” The user authenticates against their organization&#x27;s Cognito User Pool via passwordless link (default), passkey, password, or SSO</li><li><strong>Token issuance</strong> â€” Cognito issues a JWT access token (valid 60 minutes) and a refresh token</li><li><strong>API authorization</strong> â€” The access token is passed in the <code>Authorization: Bearer &lt;token&gt;</code> header on every API request</li><li><strong>Token refresh</strong> â€” Clients use the refresh token to obtain new access tokens without re-authentication</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="token-types">Token Types<a class="hash-link" href="#token-types" title="Direct link to heading">â€‹</a></h3><p>epilot supports multiple token types for different use cases:</p><table><thead><tr><th>Token Type</th><th>Lifetime</th><th>Use Case</th></tr></thead><tbody><tr><td><strong>OAuth Access Token</strong></td><td>60 minutes</td><td>Interactive user sessions</td></tr><tr><td><strong>Access Token (Long-lived)</strong></td><td>No expiration</td><td>Third-party integrations, automation</td></tr><tr><td><strong>Publishable Token</strong></td><td>No expiration</td><td>Client-side embedding (journeys, portals)</td></tr></tbody></table><p>Long-lived Access Tokens inherit the creating user&#x27;s roles and permissions, and can be revoked at any time. Publishable Tokens are restricted to a narrow set of public-facing operations. See <a href="/docs/auth/access-tokens">Access Tokens</a> and <a href="/docs/auth/token-types">Token Types</a> for details.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="authentication-methods">Authentication Methods<a class="hash-link" href="#authentication-methods" title="Direct link to heading">â€‹</a></h3><p>epilot supports multiple authentication methods, configurable per organization:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><strong>Passwordless (default)</strong></td><td>Sign-in links sent via email â€” the default login experience on epilot 360</td></tr><tr><td><strong>Passkeys (WebAuthn/FIDO2)</strong></td><td>Biometric or hardware key authentication with phishing-resistant public-key cryptography</td></tr><tr><td><strong>Password + MFA</strong></td><td>Traditional password with TOTP or SMS second factor</td></tr><tr><td><strong>SSO (OIDC/SAML)</strong></td><td>Federated login via corporate identity providers (Azure AD, Okta, Google)</td></tr></tbody></table><p>Organizations enable and combine these methods in <strong>Organization Settings</strong>. See <a href="/docs/auth/mfa">MFA</a>, <a href="/docs/auth/passwordless">Passwordless Login</a>, <a href="/docs/auth/passkeys">Passkeys</a>, and <a href="/docs/sso/single-sign-on">SSO</a> for configuration details.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="authorization">Authorization<a class="hash-link" href="#authorization" title="Direct link to heading">â€‹</a></h2><p>epilot uses a layered authorization model: the API Gateway validates requests at the edge, and application-level code enforces fine-grained permissions. See <a href="/docs/auth/authorization">Authorization</a> for implementation details.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="api-gateway-authorizer">API Gateway Authorizer<a class="hash-link" href="#api-gateway-authorizer" title="Direct link to heading">â€‹</a></h3><p>All requests pass through a <strong>Lambda authorizer</strong> on the API Gateway. The authorizer:</p><ol><li>Validates the bearer token (JWT signature, expiration, issuer)</li><li>Extracts identity claims (user ID, organization ID, roles)</li><li>Passes validated claims to backend microservices as request context</li><li>Rejects requests with invalid or expired tokens before they reach application code</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="role-based-access-control-rbac">Role-Based Access Control (RBAC)<a class="hash-link" href="#role-based-access-control-rbac" title="Direct link to heading">â€‹</a></h3><p>epilot implements a flexible RBAC system inspired by AWS IAM. See <a href="/docs/auth/permissions">Permissions</a> for full documentation.</p><p>The permission model has three core concepts:</p><ul><li><strong>Users</strong> are assigned one or more <strong>Roles</strong></li><li><strong>Roles</strong> contain collections of <strong>Grants</strong></li><li><strong>Grants</strong> define allowed (or explicitly denied) actions on resources</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="grant-evaluation-rules">Grant Evaluation Rules<a class="hash-link" href="#grant-evaluation-rules" title="Direct link to heading">â€‹</a></h4><ol><li><strong>Tenant isolation</strong> â€” Roles only grant access to resources within their organization</li><li><strong>Owner role</strong> â€” A built-in <code>owner</code> role inherits all organization grants (present in every organization)</li><li><strong>Least privilege</strong> â€” Roles have no grants by default</li><li><strong>Dual-role matching</strong> â€” Both the organization root role grant <strong>and</strong> a user role grant must match for access</li><li><strong>Explicit deny</strong> â€” An explicit deny in any matched grant overrides all allows</li><li><strong>Wildcard support</strong> â€” Actions and resources support wildcards (e.g., <code>entity:*</code>)</li></ol><h4 class="anchor anchorWithStickyNavbar_mojV" id="organization-root-role">Organization Root Role<a class="hash-link" href="#organization-root-role" title="Direct link to heading">â€‹</a></h4><p>Each organization has a mandatory root role that defines the <strong>maximum permission set</strong> any user in that organization can receive. The organization&#x27;s subscription tier determines this role. User roles can only grant permissions up to the ceiling set by the root role.</p><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>Example role definition</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT language-json theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">Manager role with explicit deny</div><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;66:manager&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Manager&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;organization_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;66&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user_role&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;grants&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;action&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;entity:*&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;effect&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;allow&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;action&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;entity:*&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;resource&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;partner:*&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;effect&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;deny&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This role allows all entity actions but explicitly denies access to partner-owned entities.</p></div></div></details><h2 class="anchor anchorWithStickyNavbar_mojV" id="encryption">Encryption<a class="hash-link" href="#encryption" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="encryption-at-rest">Encryption at Rest<a class="hash-link" href="#encryption-at-rest" title="Direct link to heading">â€‹</a></h3><p>All data stored in epilot is encrypted at rest using AWS-managed encryption:</p><ul><li><strong>Amazon S3</strong> â€” Server-side encryption with AWS KMS (SSE-KMS) with service-specific keys</li><li><strong>Amazon DynamoDB</strong> â€” Encryption at rest enabled by default using AWS-owned keys</li><li><strong>Amazon Elasticsearch / OpenSearch</strong> â€” Node-to-node encryption and encryption at rest enabled</li><li><strong>Amazon RDS / ClickHouse</strong> â€” Encrypted storage volumes</li></ul><p><strong>AWS Key Management Service (KMS)</strong> manages encryption keys with automatic rotation and IAM-based access controls.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="encryption-in-transit">Encryption in Transit<a class="hash-link" href="#encryption-in-transit" title="Direct link to heading">â€‹</a></h3><p>All data in transit uses TLS encryption:</p><ul><li><strong>API endpoints</strong> â€” All epilot APIs are served exclusively over HTTPS (TLS 1.2+)</li><li><strong>Inter-service communication</strong> â€” Internal service-to-service calls use encrypted channels within the AWS network</li><li><strong>Database connections</strong> â€” Connections to data stores use TLS encryption</li><li><strong>CDN delivery</strong> â€” Static assets are served via Amazon CloudFront with enforced HTTPS</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="api-protection">API Protection<a class="hash-link" href="#api-protection" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="rate-limiting">Rate Limiting<a class="hash-link" href="#rate-limiting" title="Direct link to heading">â€‹</a></h3><p>Rate limiting operates at multiple levels:</p><ul><li><strong>API Gateway throttling</strong> â€” Per-API request quotas and burst limits</li><li><strong>Lambda concurrency limits</strong> â€” Backend execution is bounded by configurable concurrency settings</li><li><strong>CloudFront rate limiting</strong> â€” IP-based and path-based rate limiting rules at the CDN edge</li><li><strong>WAF rate rules</strong> â€” AWS WAF enforces request rate limits with automatic blocking of offending IPs</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="ddos-protection">DDoS Protection<a class="hash-link" href="#ddos-protection" title="Direct link to heading">â€‹</a></h3><p>Multi-layered DDoS defense:</p><ul><li><strong>AWS Shield</strong> â€” Network and transport layer (L3/L4) protection for all AWS resources</li><li><strong>AWS WAF</strong> â€” Application layer (L7) protection with managed rule sets including:<ul><li>Managed DDoS mitigation rules</li><li>IP reputation lists</li><li>Geo-blocking for regions outside the service area</li><li>Bot detection and management</li></ul></li><li><strong>CloudFront distribution</strong> â€” All public-facing endpoints (both frontend SPAs and backend APIs) are served through CloudFront, providing a globally distributed edge layer that absorbs volumetric attacks</li><li><strong>Origin access controls</strong> â€” Direct access to origin servers (S3 buckets, API Gateways) is restricted so that only CloudFront can reach them</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="web-application-firewall-waf">Web Application Firewall (WAF)<a class="hash-link" href="#web-application-firewall-waf" title="Direct link to heading">â€‹</a></h3><p>AWS WAF protects all public-facing endpoints against common web attack vectors:</p><ul><li>SQL injection</li><li>Cross-site scripting (XSS)</li><li>Known vulnerability exploitation</li><li>Malicious bot traffic</li></ul><p>WAF rules are continuously tuned based on traffic patterns and threat intelligence.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="api-key-security">API Key Security<a class="hash-link" href="#api-key-security" title="Direct link to heading">â€‹</a></h2><p>epilot distinguishes between two categories of API credentials:</p><ul><li><strong>Access Tokens</strong> â€” Secret, long-lived tokens that carry the creating user&#x27;s full permissions. Keep confidential; use for server-to-server integrations. See <a href="/docs/auth/access-tokens">Access Tokens</a>.</li><li><strong>Publishable Tokens</strong> â€” Safe to embed in client-side code (journey embed scripts, portal widgets). Restricted to public operations and cannot access sensitive data. See <a href="/docs/auth/token-types">Token Types</a>.</li></ul><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>Use the most restrictive token type for your use case. Publishable Tokens belong in client-side code; Access Tokens belong strictly server-side.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="infrastructure-security">Infrastructure Security<a class="hash-link" href="#infrastructure-security" title="Direct link to heading">â€‹</a></h2><p>epilot runs entirely on <strong>AWS</strong> in the <strong>EU (Frankfurt, <code>eu-central-1</code>) region</strong>:</p><ul><li><strong>Serverless architecture</strong> â€” Lambda-based microservices eliminate the need to manage and patch servers</li><li><strong>Infrastructure as Code</strong> â€” All infrastructure is provisioned through CloudFormation and Terraform, enabling version-controlled, auditable infrastructure changes</li><li><strong>Centralized logging</strong> â€” Application logs, access logs, and security events are aggregated in Datadog and AWS CloudTrail for monitoring and incident response</li><li><strong>Automated security scanning</strong> â€” CI/CD pipelines include static application security testing (SAST), dependency vulnerability scanning, and secret detection</li><li><strong>Penetration testing</strong> â€” Independent third-party penetration tests are conducted regularly against all platform components</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="backup-and-recovery">Backup and Recovery<a class="hash-link" href="#backup-and-recovery" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="scope">Scope<a class="hash-link" href="#scope" title="Direct link to heading">â€‹</a></h3><p>epilot maintains technical and organizational measures to enable the recovery of the platform, its core functionalities, and customer data in the event of failures, operational errors, or infrastructure incidents. Recovery capabilities differ between (a) core transactional data and platform functionality and (b) analytical and derived services.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="core-data-protection-point-in-time-recovery">Core Data Protection (Point-in-Time Recovery)<a class="hash-link" href="#core-data-protection-point-in-time-recovery" title="Direct link to heading">â€‹</a></h3><p>Customer master data and operational records stored in epilot databases are protected using continuous point-in-time recovery (PITR).</p><ul><li>Data can be restored to a specific point in time within the retention window.</li><li>For accidental deletions or data corruption, the effective Recovery Point Objective (RPO) is approximately minutes.</li></ul><p>The target Recovery Time Objective (RTO) for core platform functionality is up to 10 hours, depending on the nature of the incident.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="system-wide-incident-recovery">System-Wide Incident Recovery<a class="hash-link" href="#system-wide-incident-recovery" title="Direct link to heading">â€‹</a></h3><p>In the event of major incidents affecting infrastructure, deployments, or an entire cloud region, recovery may require restoration of databases, reconfiguration of services, and reprocessing of data.</p><ul><li>Core platform functionality will be prioritized as described above.</li><li>Analytical and derived services (like dashboards, datalake, webhook monitoring, audit logs, and reporting) require additional reconstruction steps and may have an RTO of up to 24 hours.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="platform-configuration-backups">Platform Configuration Backups<a class="hash-link" href="#platform-configuration-backups" title="Direct link to heading">â€‹</a></h3><p>epilot maintains regular builds and backups of application code and system configuration to enable restoration of the software and its functionalities.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="data-retention-and-deletion">Data Retention and Deletion<a class="hash-link" href="#data-retention-and-deletion" title="Direct link to heading">â€‹</a></h3><p>End customer data shall be retained for a period of 90 days following termination of the contract in accordance with the agreement (cf. GTC SS 6.4). Such end customer data may be deleted by the contractual partner at any time.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="limitations">Limitations<a class="hash-link" href="#limitations" title="Direct link to heading">â€‹</a></h3><p>Recovery objectives represent targets and depend on the failure scenario, data volume, and required reprocessing steps. Objectives do not apply in cases of force majeure or external dependencies outside epilot&#x27;s control.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="compliance">Compliance<a class="hash-link" href="#compliance" title="Direct link to heading">â€‹</a></h2><p>epilot maintains the following certifications and compliance measures:</p><ul><li><strong>ISO 27001:2022</strong> â€” Certified information security management system</li><li><strong>GDPR compliance</strong> â€” Data processing agreements, data minimization, and right-to-deletion mechanisms</li><li><strong>Regular security audits</strong> â€” Ongoing internal and external assessments informed by OWASP ASVS standards</li><li><strong>Security taskforce</strong> â€” A dedicated cross-functional team that triages and resolves security findings</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="further-reading">Further Reading<a class="hash-link" href="#further-reading" title="Direct link to heading">â€‹</a></h2><ul><li><a href="/docs/auth/authentication">Authentication</a> â€” OAuth 2.0 login, Cognito User Pools, SDK usage</li><li><a href="/docs/auth/mfa">MFA</a> -- Multi-factor authentication with TOTP and SMS</li><li><a href="/docs/auth/passwordless">Passwordless Login</a> -- Email-based sign-in links (default since 2025)</li><li><a href="/docs/auth/passkeys">Passkeys</a> -- Phishing-resistant biometric and hardware key authentication</li><li><a href="/docs/sso/single-sign-on">SSO</a> â€” Single sign-on with OIDC and SAML identity providers</li><li><a href="/docs/auth/authorization">Authorization</a> â€” JWT validation, API Gateway authorizer, Permissions API</li><li><a href="/docs/auth/access-tokens">Access Tokens</a> â€” Creating and managing long-lived API tokens</li><li><a href="/docs/auth/token-types">Token Types</a> â€” Comparison of access tokens vs. publishable tokens</li><li><a href="/docs/auth/permissions">Permissions</a> â€” RBAC model, grant evaluation, role management</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/epilot-dev/docs/edit/main/docs/architecture/security.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/architecture/design-system"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Design System</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/architecture/serverless"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Serverless</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#multi-tenant-architecture" class="table-of-contents__link toc-highlight">Multi-Tenant Architecture</a><ul><li><a href="#per-organization-user-pools" class="table-of-contents__link toc-highlight">Per-Organization User Pools</a></li><li><a href="#organization-scoped-api-routing" class="table-of-contents__link toc-highlight">Organization-Scoped API Routing</a></li><li><a href="#data-isolation" class="table-of-contents__link toc-highlight">Data Isolation</a></li></ul></li><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a><ul><li><a href="#authentication-flow" class="table-of-contents__link toc-highlight">Authentication Flow</a></li><li><a href="#token-types" class="table-of-contents__link toc-highlight">Token Types</a></li><li><a href="#authentication-methods" class="table-of-contents__link toc-highlight">Authentication Methods</a></li></ul></li><li><a href="#authorization" class="table-of-contents__link toc-highlight">Authorization</a><ul><li><a href="#api-gateway-authorizer" class="table-of-contents__link toc-highlight">API Gateway Authorizer</a></li><li><a href="#role-based-access-control-rbac" class="table-of-contents__link toc-highlight">Role-Based Access Control (RBAC)</a></li></ul></li><li><a href="#encryption" class="table-of-contents__link toc-highlight">Encryption</a><ul><li><a href="#encryption-at-rest" class="table-of-contents__link toc-highlight">Encryption at Rest</a></li><li><a href="#encryption-in-transit" class="table-of-contents__link toc-highlight">Encryption in Transit</a></li></ul></li><li><a href="#api-protection" class="table-of-contents__link toc-highlight">API Protection</a><ul><li><a href="#rate-limiting" class="table-of-contents__link toc-highlight">Rate Limiting</a></li><li><a href="#ddos-protection" class="table-of-contents__link toc-highlight">DDoS Protection</a></li><li><a href="#web-application-firewall-waf" class="table-of-contents__link toc-highlight">Web Application Firewall (WAF)</a></li></ul></li><li><a href="#api-key-security" class="table-of-contents__link toc-highlight">API Key Security</a></li><li><a href="#infrastructure-security" class="table-of-contents__link toc-highlight">Infrastructure Security</a></li><li><a href="#backup-and-recovery" class="table-of-contents__link toc-highlight">Backup and Recovery</a><ul><li><a href="#scope" class="table-of-contents__link toc-highlight">Scope</a></li><li><a href="#core-data-protection-point-in-time-recovery" class="table-of-contents__link toc-highlight">Core Data Protection (Point-in-Time Recovery)</a></li><li><a href="#system-wide-incident-recovery" class="table-of-contents__link toc-highlight">System-Wide Incident Recovery</a></li><li><a href="#platform-configuration-backups" class="table-of-contents__link toc-highlight">Platform Configuration Backups</a></li><li><a href="#data-retention-and-deletion" class="table-of-contents__link toc-highlight">Data Retention and Deletion</a></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li></ul></li><li><a href="#compliance" class="table-of-contents__link toc-highlight">Compliance</a></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further Reading</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/api">REST API Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/architecture/sdk">SDK</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/architecture/open-source">Open Source</a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/epilot-dev" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://dev.to/epilot" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://docs.epilot.io/techradar" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Tech Radar<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/epilot-dev/engineering-principles" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Engineering Principles<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.epilot.cloud/en/company/careers" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">&copy; epilot.cloud 2026</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0a7aa959.js"></script>
<script src="/assets/js/main.a7ad3df0.js"></script>
</body>
</html>