<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/api/changelog/rss.xml" title="epilot API Changelog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/api/changelog/atom.xml" title="epilot API Changelog Atom Feed">
<link rel="alternate" type="application/json" href="/api/changelog/feed.json" title="epilot API Changelog JSON Feed"><title data-react-helmet="true">Use Cases | epilot dev center</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.epilot.io/docs/integrations/erp-toolkit/use-cases"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Use Cases | epilot dev center"><meta data-react-helmet="true" name="description" content="Common ERP integration use cases for inbound and outbound flows"><meta data-react-helmet="true" property="og:description" content="Common ERP integration use cases for inbound and outbound flows"><link data-react-helmet="true" rel="icon" href="/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.epilot.io/docs/integrations/erp-toolkit/use-cases"><link data-react-helmet="true" rel="alternate" href="https://docs.epilot.io/docs/integrations/erp-toolkit/use-cases" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.epilot.io/docs/integrations/erp-toolkit/use-cases" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c89cbd0d.css">
<link rel="preload" href="/assets/js/runtime~main.0a7aa959.js" as="script">
<link rel="preload" href="/assets/js/main.a7ad3df0.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="epilot" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.png" alt="epilot" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Dev Center</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/api">REST API</a><a class="navbar__item navbar__link" href="/docs/architecture/sdk">SDK</a><a class="navbar__item navbar__link" href="/docs/apps">Apps</a></div><div class="navbar__items navbar__items--right"><a href="https://marketplace.epilot.cloud/en" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-button navbar-button--secondary"><span>Marketplace<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://portal.epilot.cloud" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-button navbar-button--primary"><span>Log in<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/architecture/overview">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/auth/authentication">Auth &amp; Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/entities/flexible-entities">Entities</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/journeys/journey-builder">Journeys</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/messaging/email-settings">Messaging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/notes/intro">Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/templates/template-variables">Templates</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/portals/customer-portal">Portals</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/automation/intro">Automation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/workflows/intro">Workflows</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/blueprints/intro">Blueprints</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/pricing/">Pricing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/integrations/overview">Integrations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/integrations/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/integrations/webhooks">Webhooks</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/integrations/core-events">Core Events</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/docs/integrations/erp-toolkit/overview">ERP Toolkit</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/integrations/erp-toolkit/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/integrations/erp-toolkit/inbound/getting-started">Inbound Integration</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/integrations/erp-toolkit/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/integrations/erp-toolkit/use-cases">Use Cases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/integrations/erp-toolkit/file-proxy">File Proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/integrations/erp-toolkit/mapping-examples">Mapping Examples</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/integrations/batch-api">Batch API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/integrations/rate-limits">Rate Limits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/integrations/3rd-party-journeys">3rd Party Journeys</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/integrations/zapier">Zapier</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/apps">Apps</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Use Cases</h1><p>This page describes the standard ERP integration use cases that the ERP Toolkit supports. Each use case is classified as <strong>inbound</strong> (ERP to epilot) or <strong>outbound</strong> (epilot to ERP) and documents what happens on each side, which <a href="/docs/entities/core-entities">Core Entities</a> are involved, and which <a href="/docs/integrations/core-events">Core Events</a> are emitted or consumed.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Most integrations start with inbound use cases (syncing master data into epilot) and then add outbound use cases (self-service actions from portals and journeys).</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="quick-reference">Quick Reference<a class="hash-link" href="#quick-reference" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="inbound-erp-to-epilot">Inbound (ERP to epilot)<a class="hash-link" href="#inbound-erp-to-epilot" title="Direct link to heading">â€‹</a></h3><table><thead><tr><th>Use Case</th><th>Core Entities</th><th>Typical Trigger</th></tr></thead><tbody><tr><td><a href="#keep-customer-in-sync">Keep Customer In Sync</a></td><td><a href="/docs/entities/core-entities#contact"><code>contact</code></a>, <a href="/docs/entities/core-entities#account"><code>account</code></a>, <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a></td><td>Customer record changed in ERP</td></tr><tr><td><a href="#keep-contract-in-sync">Keep Contract In Sync</a></td><td><a href="/docs/entities/core-entities#contract"><code>contract</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a>, <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a>, <a href="/docs/entities/core-entities#meter"><code>meter</code></a></td><td>Contract created/modified in ERP</td></tr><tr><td><a href="#keep-billing-account-in-sync">Keep Billing Account In Sync</a></td><td><a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a></td><td>Payment details changed in ERP</td></tr><tr><td><a href="#keep-meter-in-sync">Keep Meter In Sync</a></td><td><a href="/docs/entities/core-entities#meter"><code>meter</code></a>, <a href="/docs/entities/core-entities#meter_counter"><code>meter_counter</code></a>, <a href="/docs/entities/core-entities#contract"><code>contract</code></a></td><td>Meter installed/replaced in ERP</td></tr><tr><td><a href="#sync-meter-readings">Sync Meter Readings</a></td><td><a href="/docs/entities/core-entities#meter"><code>meter</code></a>, <a href="/docs/entities/core-entities#meter_counter"><code>meter_counter</code></a></td><td>Readings recorded in ERP</td></tr><tr><td><a href="#sync-documents">Sync Documents</a></td><td><a href="/docs/entities/core-entities#file"><code>file</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a>, <a href="/docs/entities/core-entities#contract"><code>contract</code></a></td><td>Documents generated in ERP/archive</td></tr><tr><td><a href="#sync-billing-events">Sync Billing Events</a></td><td><a href="/docs/entities/core-entities#billing_event"><code>billing_event</code></a>, <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a></td><td>Invoices/payments created in ERP</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="outbound-epilot-to-erp">Outbound (epilot to ERP)<a class="hash-link" href="#outbound-epilot-to-erp" title="Direct link to heading">â€‹</a></h3><table><thead><tr><th>Use Case</th><th>Core Event</th><th>Core Entities</th><th>Typical Trigger</th></tr></thead><tbody><tr><td><a href="#submit-meter-reading">Submit Meter Reading</a></td><td><a href="/docs/integrations/core-events#MeterReadingAdded"><code>MeterReadingAdded</code></a></td><td><a href="/docs/entities/core-entities#meter"><code>meter</code></a>, <a href="/docs/entities/core-entities#meter_counter"><code>meter_counter</code></a></td><td>Portal / Journey / 360</td></tr><tr><td><a href="#change-installment-amount">Change Installment</a></td><td><a href="/docs/integrations/core-events#InstallmentUpdated"><code>InstallmentUpdated</code></a></td><td><a href="/docs/entities/core-entities#contract"><code>contract</code></a>, <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a></td><td>Portal / 360</td></tr><tr><td><a href="#change-payment-method-sepaiban">Change Payment Method</a></td><td><a href="/docs/integrations/core-events#PaymentMethodUpdated"><code>PaymentMethodUpdated</code></a></td><td><a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a></td><td>Portal / Journey / 360</td></tr><tr><td><a href="#change-billing-address">Change Billing Address</a></td><td><a href="/docs/integrations/core-events#BillingAddressUpdated"><code>BillingAddressUpdated</code></a></td><td><a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a></td><td>Portal / 360</td></tr><tr><td><a href="#update-customer-details">Update Customer Details</a></td><td><a href="/docs/integrations/core-events#CustomerDetailsUpdated"><code>CustomerDetailsUpdated</code></a></td><td><a href="/docs/entities/core-entities#contact"><code>contact</code></a></td><td>Portal / 360</td></tr><tr><td><a href="#request-data-sync">Request Data Sync</a></td><td>custom webhook</td><td>varies</td><td>Portal login / 360</td></tr><tr><td><a href="#contract-move-move-in--move-out">Contract Move</a></td><td><a href="/docs/integrations/core-events#LocationMoveRequested"><code>LocationMoveRequested</code></a></td><td><a href="/docs/entities/core-entities#contact"><code>contact</code></a>, <a href="/docs/entities/core-entities#contract"><code>contract</code></a>, <a href="/docs/entities/core-entities#meter"><code>meter</code></a></td><td>Journey</td></tr><tr><td><a href="#terminate-contract">Terminate Contract</a></td><td><a href="/docs/integrations/core-events#TerminateContractRequested"><code>TerminateContractRequested</code></a></td><td><a href="/docs/entities/core-entities#contract"><code>contract</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a></td><td>Portal / Journey</td></tr></tbody></table><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="inbound-use-cases-erp-to-epilot">Inbound Use Cases (ERP to epilot)<a class="hash-link" href="#inbound-use-cases-erp-to-epilot" title="Direct link to heading">â€‹</a></h2><p>Inbound use cases push data from your ERP system into epilot via the <a href="/docs/integrations/erp-toolkit/inbound/getting-started">Inbound API</a>. Your middle layer or ERP sends events to the <code>/v3/erp/updates/events</code> endpoint, the ERP Toolkit applies <a href="/docs/integrations/erp-toolkit/inbound/mapping">JSONata mappings</a>, and epilot entities are created or updated.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="keep-customer-in-sync">Keep Customer In Sync<a class="hash-link" href="#keep-customer-in-sync" title="Direct link to heading">â€‹</a></h3><p>Synchronize customer master data (business partners) from your ERP into epilot contacts.</p><div class="mermaid">flowchart LR
    ERP[ERP System] --&gt;|Customer created/updated| MW[Middle Layer]
    MW --&gt;|POST /v3/erp/updates/events| API[ERP Integration API]
    API --&gt;|Upsert| C[contact]
    API --&gt;|Upsert| A[account]
    API --&gt;|Upsert| BA[billing_account]</div><p><strong>What happens in the ERP:</strong></p><ul><li>Customer record is created or updated (name, address, email, phone, tax ID)</li><li>ERP or middle layer detects the change (via delta sync, change events, or polling)</li><li>Middle layer sends the customer payload to the ERP Toolkit inbound API</li></ul><p><strong>What happens in epilot:</strong></p><ul><li>ERP Toolkit matches the incoming data to an existing <a href="/docs/entities/core-entities#contact">contact</a> entity using a unique identifier (e.g., <code>customer_number</code>)</li><li>Contact entity is created or updated with mapped fields (name, address, email, phone)</li><li>Related entities (billing accounts, contracts) are linked if identifiers are present</li></ul><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#contact"><code>contact</code></a>, <a href="/docs/entities/core-entities#account"><code>account</code></a>, <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a></p><p><strong>Typical unique identifier:</strong> <code>customer_number</code> (ERP business partner ID)</p><p><strong>Typical fields mapped:</strong> salutation, first name, last name, date of birth, email, phone, postal address, tax ID, company name, VAT ID</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="keep-contract-in-sync">Keep Contract In Sync<a class="hash-link" href="#keep-contract-in-sync" title="Direct link to heading">â€‹</a></h3><p>Synchronize contract data including tariff, start date, and billing details.</p><div class="mermaid">flowchart LR
    ERP[ERP System] --&gt;|Contract changed| MW[Middle Layer]
    MW --&gt;|POST /v3/erp/updates/events| API[ERP Integration API]
    API --&gt;|Upsert by contract_number| CT[contract]</div><p><strong>What happens in the ERP:</strong></p><ul><li>Contract is created, renewed, or modified</li><li>Middle layer sends contract payload with related customer and meter identifiers</li></ul><p><strong>What happens in epilot:</strong></p><ul><li>ERP Toolkit matches to an existing <a href="/docs/entities/core-entities#contract">contract</a> entity using the contract number</li><li>Contract entity is created or updated</li><li>Relations to contact, billing account, and meter entities are established based on identifiers in the payload</li></ul><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#contract"><code>contract</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a>, <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a>, <a href="/docs/entities/core-entities#meter"><code>meter</code></a></p><p><strong>Typical unique identifier:</strong> <code>contract_number</code></p><p><strong>Typical fields mapped:</strong> contract number, contract type (power, gas, district heating), start date, end date, tariff name, installment amount, market location ID</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="keep-billing-account-in-sync">Keep Billing Account In Sync<a class="hash-link" href="#keep-billing-account-in-sync" title="Direct link to heading">â€‹</a></h3><p>Synchronize billing account data including payment methods and SEPA mandates. In many ERPs this entity is known as the <strong>Business Partner</strong> (GeschÃ¤ftspartner) or billing unit (Rechnungseinheit).</p><div class="mermaid">flowchart LR
    ERP[ERP System] --&gt;|Payment details changed| MW[Middle Layer]
    MW --&gt;|POST /v3/erp/updates/events| API[ERP Integration API]
    API --&gt;|Upsert by billing_account_number| BA[billing_account]</div><p><strong>What happens in the ERP:</strong></p><ul><li>Business partner / billing account is created or payment details are updated</li><li>Middle layer sends the billing account (business partner) payload including bank account information</li></ul><p><strong>What happens in epilot:</strong></p><ul><li>ERP Toolkit matches to an existing <a href="/docs/entities/core-entities#billing_account">billing account</a> entity using the billing account number</li><li>Billing account entity is created or updated</li><li>Bank account details (IBAN, BIC, account holder, SEPA mandate reference) are stored</li><li>Relations to contact and contract entities are established</li></ul><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a></p><p><strong>Typical unique identifier:</strong> <code>billing_account_number</code> (ERP Rechnungseinheit ID)</p><p><strong>Typical fields mapped:</strong> billing account number, billing address, IBAN, BIC, account holder, SEPA mandate reference, mandate valid from/to, payment method type</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Some ERPs support multiple bank accounts per billing account (e.g., one for receivables, one for credits). The mapping should handle arrays of bank accounts.</p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="keep-meter-in-sync">Keep Meter In Sync<a class="hash-link" href="#keep-meter-in-sync" title="Direct link to heading">â€‹</a></h3><p>Synchronize meter and meter counter (register) data.</p><div class="mermaid">flowchart LR
    ERP[ERP System] --&gt;|Meter installed/replaced| MW[Middle Layer]
    MW --&gt;|POST /v3/erp/updates/events| API[ERP Integration API]
    API --&gt;|Upsert by meter_number| M[meter]
    API --&gt;|Create counters| MC[meter_counter]</div><p><strong>What happens in the ERP:</strong></p><ul><li>Meter is installed, replaced, or its configuration changes</li><li>Middle layer sends meter data with device numbers and counter registers</li></ul><p><strong>What happens in epilot:</strong></p><ul><li>ERP Toolkit matches to an existing <a href="/docs/entities/core-entities#meter">meter</a> entity using the meter number (device number)</li><li>Meter entity is created or updated</li><li>Meter counter entities are created for each register (e.g., HT/NT for dual-tariff meters)</li><li>Relations to contract and contact entities are established</li></ul><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#meter"><code>meter</code></a>, <a href="/docs/entities/core-entities#meter_counter"><code>meter_counter</code></a>, <a href="/docs/entities/core-entities#contract"><code>contract</code></a></p><p><strong>Typical unique identifiers:</strong> <code>meter_number</code> (device number), <code>obis_number</code> (counter register ID)</p><p><strong>Typical fields mapped:</strong> meter number, metering point ID (market location), meter type, tariff type, unit (kWh, m3), installation date</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="sync-meter-readings">Sync Meter Readings<a class="hash-link" href="#sync-meter-readings" title="Direct link to heading">â€‹</a></h3><p>Synchronize meter reading history from ERP to epilot. See the dedicated <a href="/docs/integrations/erp-toolkit/inbound/meter-readings">Meter Readings</a> guide for configuration details.</p><div class="mermaid">flowchart LR
    ERP[ERP System] --&gt;|Readings recorded| MW[Middle Layer]
    MW --&gt;|POST /v3/erp/updates/events| API[ERP Integration API]
    API --&gt;|Lookup meter| M[meter]
    API --&gt;|Deduplicate &amp; create| MR[meter reading]</div><p><strong>What happens in the ERP:</strong></p><ul><li>Meter readings are recorded (regular, irregular, or system-estimated)</li><li>Middle layer sends reading data as an array referencing meters by ID</li></ul><p><strong>What happens in epilot:</strong></p><ul><li>ERP Toolkit looks up the meter entity by meter number</li><li>Meter readings are created on the matched meter counter</li><li>Deduplication prevents duplicate readings within a 24-hour window</li></ul><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#meter"><code>meter</code></a>, <a href="/docs/entities/core-entities#meter_counter"><code>meter_counter</code></a> (meter readings are stored on meter counters)</p><p><strong>Typical fields mapped:</strong> reading date, reading value, reading type (regular/irregular), reading reason, unit</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="sync-documents">Sync Documents<a class="hash-link" href="#sync-documents" title="Direct link to heading">â€‹</a></h3><p>Synchronize documents from an ERP or external archive system (e.g., d.3, Doxis).</p><div class="mermaid">flowchart LR
    ERP[ERP / Archive] --&gt;|New document| MW[Middle Layer]
    MW --&gt;|POST /v3/erp/updates/events| API[ERP Integration API]
    API --&gt;|Create| F[file]</div><p><strong>What happens in the ERP:</strong></p><ul><li>New documents are generated (invoices, contract confirmations, letters)</li><li>Documents are stored in the ERP or a connected archive system</li><li>Middle layer sends document metadata and file content to epilot</li></ul><p><strong>What happens in epilot:</strong></p><ul><li>File entities are created with the document content</li><li>Files are linked to the relevant contact and contract entities using identifiers (e.g., contract number, customer number)</li></ul><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#file"><code>file</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a>, <a href="/docs/entities/core-entities#contract"><code>contract</code></a></p><p><strong>Typical fields mapped:</strong> file name, document type, MIME type, document date, file content (binary or URL)</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>[File Proxy Alternative]</h5></div><div class="admonition-content"><p>When migrating a large document archive is impractical, use the <strong><a href="/docs/integrations/erp-toolkit/file-proxy">File Proxy</a></strong> instead. During inbound sync, only document metadata is synced â€” file entities are created with a <code>custom_download_url</code> pointing to the file proxy. The actual file content is fetched on demand when a user views the document. See the <a href="/docs/integrations/erp-toolkit/file-proxy">File Proxy configuration guide</a> for setup details.</p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>For portals, documents should be synced periodically (e.g., hourly) so that portal users receive notifications for new documents. Lazy loading on login is not sufficient because notifications require the documents to exist in epilot.</p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="sync-billing-events">Sync Billing Events<a class="hash-link" href="#sync-billing-events" title="Direct link to heading">â€‹</a></h3><p>Synchronize invoices, payments, and credit notes from the ERP billing system.</p><div class="mermaid">flowchart LR
    ERP[ERP System] --&gt;|Invoice/payment created| MW[Middle Layer]
    MW --&gt;|POST /v3/erp/updates/events| API[ERP Integration API]
    API --&gt;|Create| BE[billing_event]</div><p><strong>What happens in the ERP:</strong></p><ul><li>Invoices are generated, payments are received, or credits are issued</li><li>Middle layer sends billing event data referencing the billing account</li></ul><p><strong>What happens in epilot:</strong></p><ul><li>Billing event entities are created on the relevant billing account</li><li>Events include amount, date, type (invoice, payment, credit), and status</li></ul><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#billing_event"><code>billing_event</code></a>, <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a></p><p><strong>Typical fields mapped:</strong> event type, amount, currency, date, due date, invoice number, payment reference</p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="outbound-use-cases-epilot-to-erp">Outbound Use Cases (epilot to ERP)<a class="hash-link" href="#outbound-use-cases-epilot-to-erp" title="Direct link to heading">â€‹</a></h2><p>Outbound use cases push epilot events to your ERP via <a href="/docs/integrations/webhooks">Webhooks</a>. When a user performs a self-service action in a portal, journey, or epilot 360, an automation triggers a <a href="/docs/integrations/core-events">Core Event</a> which is delivered to your middle layer webhook endpoint. Your middle layer then processes the event and calls the appropriate ERP API.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="submit-meter-reading">Submit Meter Reading<a class="hash-link" href="#submit-meter-reading" title="Direct link to heading">â€‹</a></h3><p>A portal user or service agent submits a new meter reading.</p><div class="mermaid">flowchart LR
    U[User] --&gt;|Submits reading| EP[epilot]
    EP --&gt;|MeterReadingAdded| WH[Webhook]
    WH --&gt;|Event payload| MW[Middle Layer]
    MW --&gt;|Submit reading| ERP[ERP System]</div><p><strong>What happens in epilot:</strong></p><ul><li>User submits a meter reading via the portal, a journey, or epilot 360</li><li>Automation creates a <code>MeterReadingAdded</code> core event</li><li>Webhook delivers the event payload to the middle layer, containing the meter identifier, reading value, and reading date</li></ul><p><strong>What happens in the ERP:</strong></p><ul><li>Middle layer receives the webhook and extracts meter reading data</li><li>Middle layer calls the ERP API to submit the reading (e.g., meter reading endpoint)</li><li>Middle layer sends an <a href="/docs/integrations/erp-toolkit/overview#monitoring-and-acks">ACK</a> back to epilot to confirm processing</li></ul><p><strong>Core Event:</strong> <a href="/docs/integrations/core-events#MeterReadingAdded"><code>MeterReadingAdded</code></a></p><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#meter"><code>meter</code></a>, <a href="/docs/entities/core-entities#meter_counter"><code>meter_counter</code></a></p><p><strong>Typical payload fields:</strong> metering point ID, device number, counter ID, reading value, reading date</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="change-installment-amount">Change Installment Amount<a class="hash-link" href="#change-installment-amount" title="Direct link to heading">â€‹</a></h3><p>A portal user or service agent requests a change to the monthly installment (budget billing / Abschlag).</p><div class="mermaid">flowchart LR
    U[User] --&gt;|Changes installment| EP[epilot]
    EP --&gt;|InstallmentUpdated| WH[Webhook]
    WH --&gt;|Event payload| MW[Middle Layer]
    MW --&gt;|Update installment| ERP[ERP System]</div><p><strong>What happens in epilot:</strong></p><ul><li>User requests an installment change via the portal or epilot 360</li><li>Automation creates an <code>InstallmentUpdated</code> core event</li><li>Webhook delivers the event payload containing the contract identifier and new installment amount</li></ul><p><strong>What happens in the ERP:</strong></p><ul><li>Middle layer receives the webhook and extracts the installment change details</li><li>Middle layer calls the ERP API to update the installment amount on the contract</li><li>Middle layer sends an ACK back to epilot</li></ul><p><strong>Core Event:</strong> <a href="/docs/integrations/core-events#InstallmentUpdated"><code>InstallmentUpdated</code></a></p><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#contract"><code>contract</code></a>, <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a></p><p><strong>Typical payload fields:</strong> contract number, new installment amount, effective date</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="change-payment-method-sepaiban">Change Payment Method (SEPA/IBAN)<a class="hash-link" href="#change-payment-method-sepaiban" title="Direct link to heading">â€‹</a></h3><p>A portal user or service agent updates the bank account or SEPA mandate.</p><div class="mermaid">flowchart LR
    U[User] --&gt;|Updates bank details| EP[epilot]
    EP --&gt;|PaymentMethodUpdated| WH[Webhook]
    WH --&gt;|Event payload| MW[Middle Layer]
    MW --&gt;|Update SEPA/IBAN| ERP[ERP System]</div><p><strong>What happens in epilot:</strong></p><ul><li>User submits new bank details via the portal, a journey, or epilot 360</li><li>Automation creates a <code>PaymentMethodUpdated</code> core event</li><li>Webhook delivers the event payload containing the billing account identifier and new bank details</li></ul><p><strong>What happens in the ERP:</strong></p><ul><li>Middle layer receives the webhook and extracts bank account data</li><li>Middle layer calls the ERP API to update the payment method</li><li>Middle layer sends an ACK back to epilot</li></ul><p><strong>Core Event:</strong> <a href="/docs/integrations/core-events#PaymentMethodUpdated"><code>PaymentMethodUpdated</code></a></p><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a></p><p><strong>Typical payload fields:</strong> billing account number, customer number, IBAN, BIC, account holder, account type (receivables/credits), SEPA mandate valid from, account valid from</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Some ERPs distinguish between multiple bank account types: receivables (Forderung), credits (Guthaben), and combined. The <code>account_type</code> field identifies which bank account to update.</p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="change-billing-address">Change Billing Address<a class="hash-link" href="#change-billing-address" title="Direct link to heading">â€‹</a></h3><p>A portal user or service agent changes the billing address on a billing account.</p><div class="mermaid">flowchart LR
    U[User] --&gt;|Changes address| EP[epilot]
    EP --&gt;|BillingAddressUpdated| WH[Webhook]
    WH --&gt;|Event payload| MW[Middle Layer]
    MW --&gt;|Update address| ERP[ERP System]</div><p><strong>What happens in epilot:</strong></p><ul><li>User submits a new billing address via the portal or epilot 360</li><li>Automation creates a <code>BillingAddressUpdated</code> core event</li><li>Webhook delivers the event payload containing the billing account identifier and new address</li></ul><p><strong>What happens in the ERP:</strong></p><ul><li>Middle layer receives the webhook and extracts address data</li><li>Middle layer calls the ERP API to update the billing address</li><li>Middle layer sends an ACK back to epilot</li></ul><p><strong>Core Event:</strong> <a href="/docs/integrations/core-events#BillingAddressUpdated"><code>BillingAddressUpdated</code></a></p><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a></p><p><strong>Typical payload fields:</strong> billing account number, customer number, postal code, city, city district, street, house number, effective date</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="update-customer-details">Update Customer Details<a class="hash-link" href="#update-customer-details" title="Direct link to heading">â€‹</a></h3><p>A portal user or service agent updates contact information (name, email, phone).</p><div class="mermaid">flowchart LR
    U[User] --&gt;|Updates profile| EP[epilot]
    EP --&gt;|CustomerDetailsUpdated| WH[Webhook]
    WH --&gt;|Event payload| MW[Middle Layer]
    MW --&gt;|Update business partner| ERP[ERP System]</div><p><strong>What happens in epilot:</strong></p><ul><li>User updates their profile via the portal or a service agent edits the contact in epilot 360</li><li>Automation creates a <code>CustomerDetailsUpdated</code> core event</li><li>Webhook delivers the event payload containing the customer identifier and changed fields</li></ul><p><strong>What happens in the ERP:</strong></p><ul><li>Middle layer receives the webhook and extracts the updated customer fields</li><li>Middle layer calls the ERP API to update the business partner record</li><li>Middle layer sends an ACK back to epilot</li></ul><p><strong>Core Event:</strong> <a href="/docs/integrations/core-events#CustomerDetailsUpdated"><code>CustomerDetailsUpdated</code></a></p><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#contact"><code>contact</code></a></p><p><strong>Typical payload fields:</strong> customer number, salutation, first name, last name, email, phone</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="request-data-sync">Request Data Sync<a class="hash-link" href="#request-data-sync" title="Direct link to heading">â€‹</a></h3><p>An epilot user or portal login triggers a request for the ERP to send fresh data to epilot.</p><div class="mermaid">flowchart LR
    U[User] --&gt;|Login / Update Now| EP[epilot]
    EP --&gt;|Custom webhook| WH[Webhook]
    WH --&gt;|Sync request| MW[Middle Layer]
    MW --&gt;|Fetch data| ERP[ERP System]
    ERP --&gt;|Current data| MW
    MW --&gt;|POST /v3/erp/updates/events| API[ERP Integration API]</div><p><strong>What happens in epilot:</strong></p><ul><li>A service agent clicks &quot;Update Now&quot; in epilot 360, or a portal user logs in</li><li>A custom webhook is triggered</li><li>Webhook delivers the event payload containing the customer/contract identifiers</li></ul><p><strong>What happens in the ERP:</strong></p><ul><li>Middle layer receives the webhook and identifies which data to sync</li><li>Middle layer fetches current data from the ERP (contact details, contracts, meters, bank accounts)</li><li>Middle layer sends the data as inbound events to the ERP Toolkit <code>/v3/erp/updates/events</code> endpoint</li></ul><p><strong>Core Event:</strong> custom webhook</p><p><strong>Core Entities:</strong> depends on the data requested (typically <a href="/docs/entities/core-entities#contact"><code>contact</code></a>, <a href="/docs/entities/core-entities#contract"><code>contract</code></a>, <a href="/docs/entities/core-entities#billing_account"><code>billing_account</code></a>, <a href="/docs/entities/core-entities#meter"><code>meter</code></a>)</p><p><strong>Typical payload fields:</strong> customer number, billing account number, contract number (used by the middle layer to query the ERP)</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>This pattern is commonly used with ERPs that do not support event-driven sync. The outbound webhook triggers the middle layer to pull data from the ERP and push it as inbound events.</p></div></div><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="contract-move-move-in--move-out">Contract Move (Move-in / Move-out)<a class="hash-link" href="#contract-move-move-in--move-out" title="Direct link to heading">â€‹</a></h3><p>A customer submits a move request via a journey or portal.</p><div class="mermaid">flowchart LR
    U[User] --&gt;|Submits move request| EP[epilot]
    EP --&gt;|LocationMoveRequested| WH[Webhook]
    WH --&gt;|Event payload| MW[Middle Layer]
    MW --&gt;|Initiate move workflow| ERP[ERP System]</div><p><strong>What happens in epilot:</strong></p><ul><li>User completes a move-in/move-out journey</li><li>Automation creates a <code>LocationMoveRequested</code> core event</li><li>Webhook delivers the event payload containing customer details, old and new addresses, and meter information</li></ul><p><strong>What happens in the ERP:</strong></p><ul><li>Middle layer receives the webhook and processes the move request</li><li>Middle layer calls the ERP API to initiate the move workflow (terminate old contract, create new contract)</li><li>Middle layer sends an ACK back to epilot</li></ul><p><strong>Core Event:</strong> <a href="/docs/integrations/core-events#LocationMoveRequested"><code>LocationMoveRequested</code></a></p><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#contact"><code>contact</code></a>, <a href="/docs/entities/core-entities#contract"><code>contract</code></a>, <a href="/docs/entities/core-entities#meter"><code>meter</code></a></p><p><strong>Typical payload fields:</strong> customer number, current contract number, new address, move date, meter number</p><hr><h3 class="anchor anchorWithStickyNavbar_mojV" id="terminate-contract">Terminate Contract<a class="hash-link" href="#terminate-contract" title="Direct link to heading">â€‹</a></h3><p>A customer requests contract termination via a portal or journey.</p><div class="mermaid">flowchart LR
    U[User] --&gt;|Requests cancellation| EP[epilot]
    EP --&gt;|TerminateContractRequested| WH[Webhook]
    WH --&gt;|Event payload| MW[Middle Layer]
    MW --&gt;|Schedule termination| ERP[ERP System]</div><p><strong>What happens in epilot:</strong></p><ul><li>User submits a cancellation request</li><li>Automation creates a <code>TerminateContractRequested</code> core event</li><li>Webhook delivers the event payload containing the contract identifier and termination details</li></ul><p><strong>What happens in the ERP:</strong></p><ul><li>Middle layer receives the webhook and processes the termination</li><li>Middle layer calls the ERP API to schedule the contract termination</li><li>Middle layer sends an ACK back to epilot</li></ul><p><strong>Core Event:</strong> <a href="/docs/integrations/core-events#TerminateContractRequested"><code>TerminateContractRequested</code></a></p><p><strong>Core Entities:</strong> <a href="/docs/entities/core-entities#contract"><code>contract</code></a>, <a href="/docs/entities/core-entities#contact"><code>contact</code></a></p><p><strong>Typical payload fields:</strong> contract number, customer number, termination date, termination reason</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="ack-tracking">ACK Tracking<a class="hash-link" href="#ack-tracking" title="Direct link to heading">â€‹</a></h2><p>All outbound use cases support <a href="/docs/integrations/erp-toolkit/overview#monitoring-and-acks">ACK tracking</a>. After processing a webhook, your middle layer should send an acknowledgment back to epilot:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">Send ACK</div><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -X POST </span><span class="token string" style="color:#e3116c">&#x27;https://erp-integration.sls.epilot.io/v1/erp/tracking/acknowledgement&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d </span><span class="token string" style="color:#e3116c">&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;ack_id&quot;: &quot;&lt;ack-id-from-webhook-header&gt;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;status&quot;: &quot;processed&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  }&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This enables end-to-end monitoring in the Integration Hub: per-use-case status indicators show whether the ERP successfully processed each event.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="next-steps">Next Steps<a class="hash-link" href="#next-steps" title="Direct link to heading">â€‹</a></h2><ul><li><a href="/docs/integrations/erp-toolkit/inbound/getting-started">Inbound Getting Started</a> -- Set up your first inbound sync</li><li><a href="/docs/integrations/erp-toolkit/inbound/mapping">Mapping Configuration</a> -- Configure field mappings and JSONata transforms</li><li><a href="/docs/integrations/erp-toolkit/inbound/meter-readings">Meter Readings</a> -- Detailed guide for meter reading sync</li><li><a href="/docs/integrations/erp-toolkit/inbound/examples">Examples</a> -- Complete working examples</li><li><a href="/docs/integrations/erp-toolkit/mapping-examples">Mapping Examples</a> -- Open source example repo with TDD patterns</li><li><a href="/docs/entities/core-entities">Core Entities</a> -- Entity schema reference</li><li><a href="/docs/integrations/core-events">Core Events</a> -- Event schema reference</li><li><a href="/docs/integrations/webhooks">Webhooks</a> -- Configure outbound event delivery</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/epilot-dev/docs/edit/main/docs/integrations/erp-toolkit/use-cases.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/integrations/erp-toolkit/configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/integrations/erp-toolkit/file-proxy"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">File Proxy</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quick-reference" class="table-of-contents__link toc-highlight">Quick Reference</a><ul><li><a href="#inbound-erp-to-epilot" class="table-of-contents__link toc-highlight">Inbound (ERP to epilot)</a></li><li><a href="#outbound-epilot-to-erp" class="table-of-contents__link toc-highlight">Outbound (epilot to ERP)</a></li></ul></li><li><a href="#inbound-use-cases-erp-to-epilot" class="table-of-contents__link toc-highlight">Inbound Use Cases (ERP to epilot)</a><ul><li><a href="#keep-customer-in-sync" class="table-of-contents__link toc-highlight">Keep Customer In Sync</a></li><li><a href="#keep-contract-in-sync" class="table-of-contents__link toc-highlight">Keep Contract In Sync</a></li><li><a href="#keep-billing-account-in-sync" class="table-of-contents__link toc-highlight">Keep Billing Account In Sync</a></li><li><a href="#keep-meter-in-sync" class="table-of-contents__link toc-highlight">Keep Meter In Sync</a></li><li><a href="#sync-meter-readings" class="table-of-contents__link toc-highlight">Sync Meter Readings</a></li><li><a href="#sync-documents" class="table-of-contents__link toc-highlight">Sync Documents</a></li><li><a href="#sync-billing-events" class="table-of-contents__link toc-highlight">Sync Billing Events</a></li></ul></li><li><a href="#outbound-use-cases-epilot-to-erp" class="table-of-contents__link toc-highlight">Outbound Use Cases (epilot to ERP)</a><ul><li><a href="#submit-meter-reading" class="table-of-contents__link toc-highlight">Submit Meter Reading</a></li><li><a href="#change-installment-amount" class="table-of-contents__link toc-highlight">Change Installment Amount</a></li><li><a href="#change-payment-method-sepaiban" class="table-of-contents__link toc-highlight">Change Payment Method (SEPA/IBAN)</a></li><li><a href="#change-billing-address" class="table-of-contents__link toc-highlight">Change Billing Address</a></li><li><a href="#update-customer-details" class="table-of-contents__link toc-highlight">Update Customer Details</a></li><li><a href="#request-data-sync" class="table-of-contents__link toc-highlight">Request Data Sync</a></li><li><a href="#contract-move-move-in--move-out" class="table-of-contents__link toc-highlight">Contract Move (Move-in / Move-out)</a></li><li><a href="#terminate-contract" class="table-of-contents__link toc-highlight">Terminate Contract</a></li></ul></li><li><a href="#ack-tracking" class="table-of-contents__link toc-highlight">ACK Tracking</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/api">REST API Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/architecture/sdk">SDK</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/architecture/open-source">Open Source</a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/epilot-dev" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://dev.to/epilot" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://docs.epilot.io/techradar" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Tech Radar<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/epilot-dev/engineering-principles" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Engineering Principles<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.epilot.cloud/en/company/careers" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Careers<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">&copy; epilot.cloud 2026</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0a7aa959.js"></script>
<script src="/assets/js/main.a7ad3df0.js"></script>
</body>
</html>