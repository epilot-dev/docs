"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[5787],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return m}});var i=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=i.createContext({}),l=function(e){var n=i.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},c=function(e){var n=l(e.components);return i.createElement(u.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},d=i.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=l(t),m=r,b=d["".concat(u,".").concat(m)]||d[m]||p[m]||o;return t?i.createElement(b,a(a({ref:n},c),{},{components:t})):i.createElement(b,a({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,a=new Array(o);a[0]=d;var s={};for(var u in n)hasOwnProperty.call(n,u)&&(s[u]=n[u]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var l=2;l<o;l++)a[l]=t[l];return i.createElement.apply(null,a)}return i.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4618:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return u},metadata:function(){return l},toc:function(){return c},default:function(){return d}});var i=t(7462),r=t(3366),o=(t(7294),t(3905)),a=["components"],s={sidebar_position:7},u="Submissions",l={unversionedId:"submissions",id:"submissions",title:"Submissions",description:"[API Docs]",source:"@site/docs/submissions.md",sourceDirName:".",slug:"/submissions",permalink:"/docs/submissions",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/submissions.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Designs",permalink:"/docs/design-builder"},next:{title:"Message API",permalink:"/docs/messaging/message-api"}},c=[{value:"Submission Schema",id:"submission-schema",children:[],level:2},{value:"Example Submission Payload",id:"example-submission-payload",children:[],level:2}],p={toc:c};function d(e){var n=e.components,s=(0,r.Z)(e,a);return(0,o.kt)("wrapper",(0,i.Z)({},p,s,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"submissions"},"Submissions"),(0,o.kt)("p",null,"[",(0,o.kt)("a",{parentName:"p",href:"/api/submission"},"API Docs"),"]\n[",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@epilot/submission-client"},"SDK"),"]"),(0,o.kt)("p",null,"Submissions are entities that store raw data collected from Journeys or other outside data sources into epilot."),(0,o.kt)("p",null,"Submissions are created via the public ",(0,o.kt)("a",{parentName:"p",href:"/api/submission"},"Submission API"),"."),(0,o.kt)("h2",{id:"submission-schema"},"Submission Schema"),(0,o.kt)("p",null,"A Submission entity does not have a fixed schema for all its data like other business entities, but rather is designed to collect the raw JSON payload to be further processed in other entities."),(0,o.kt)("p",null,"A typical use of submissions is to map the incoming submission payload into further business entities like Contacts, Opportunities and Orders using ",(0,o.kt)("a",{parentName:"p",href:"/docs/automation/automation-flows"},"Automation"),"."),(0,o.kt)("p",null,"A standard Submission has the following two Attributes:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Source"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Links to the source of the submission"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Entities"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Mapped entity relations")))),(0,o.kt)("p",null,(0,o.kt)("img",{src:t(1242).Z})),(0,o.kt)("h2",{id:"example-submission-payload"},"Example Submission Payload"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'// example submission from a journey\n{\n  "steps": [\n    {\n      "Produktauswahl": {\n        "product": {\n          "selectedProductId": "a457da80-7ef1-4b4b-8373-f2baf2731317",\n          "selectedPriceId": "d091655d-a241-42d7-9adc-2195b9b1de04",\n          "selectionMetadata": {\n            "selectedProduct": {\n              "_id": "a457da80-7ef1-4b4b-8373-f2baf2731317",\n              "_schema": "product",\n              "name": "Walbox New",\n              "code": "WN",\n              "vendor": "WN",\n              "labels": [\n                "sale"\n              ],\n              "priceOptions": {\n                "$relation": []\n              },\n              "_org": "66",\n              "_updated_at": "2022-01-04T20:26:00.571Z",\n              "_title": "Walbox New",\n              "price_options": {\n                "$relation": [\n                  {\n                    "entity_id": "d091655d-a241-42d7-9adc-2195b9b1de04"\n                  }\n                ]\n              }\n            },\n            "selectedPrice": {\n              "_id": "d091655d-a241-42d7-9adc-2195b9b1de04",\n              "unit_amount": 100000,\n              "unit_amount_currency": "EUR",\n              "unit_amount_decimal": "1000",\n              "sales_tax": "standard",\n              "tax_behavior": "inclusive",\n              "price_display_in_journeys": "show_price",\n              "type": "one_time",\n              "description": "test price",\n              "active": true,\n              "_schema": "price",\n              "_org": "66",\n              "_created_at": "2022-01-04T20:25:54.389Z",\n              "_updated_at": "2022-01-04T20:25:54.389Z",\n              "billing_period": "weekly",\n              "billing_duration_unit": "months",\n              "notice_time_unit": "months",\n              "termination_time_unit": "months",\n              "renewal_duration_unit": "months",\n              "_title": "test price"\n            }\n          },\n          "productName": "Walbox New",\n          "prices": [\n            {\n              "price": 1000,\n              "priceCurrency": "\u20ac",\n              "title": "Einmalig",\n              "interval": "one_time"\n            }\n          ],\n          "productFeatures": [],\n          "collapsedDetails": true,\n          "id": "a457da80-7ef1-4b4b-8373-f2baf2731317||d091655d-a241-42d7-9adc-2195b9b1de04"\n        },\n        "quantity": 1\n      }\n    },\n    {\n      "Pers\xf6nliche Informationen": {\n        "customerType": "Private",\n        "salutation": "Herr",\n        "title": "Dr.",\n        "firstName": "Viljami",\n        "lastName": "Kuosmanen",\n        "email": "v.kuosmanen@epilot.cloud",\n        "telephone": "0101010101"\n      },\n      "Adresse": {\n        "countryCode": "de",\n        "zipCode": "50668",\n        "city": "K\xf6ln",\n        "streetName": "Example Str.",\n        "houseNumber": "11"\n      }\n    },\n    {\n      "Zus\xe4tzliche Dokumente": [\n        {\n          "file_name": "cool-cat.jpeg",\n          "file_size": 80430,\n          "original_name": "cool-cat.jpeg",\n          "file_type": "jpeg",\n          "s3ref": {\n            "bucket": "epilot-prod-user-content",\n            "key": "66/temp/2ec73b47-fe8b-4cc2-a0f4-81d2fb549f38/cool-cat.jpeg"\n          }\n        }\n      ],\n      "Zahlungsmethoden": {\n        "type": "BankTransfer"\n      }\n    },\n    {\n      "Einwilligungen & Bestellung": {\n        "first_consent": true,\n        "second_consent": true\n      }\n    },\n    {}\n  ],\n  "order_number": "ORN5513gA",\n  "order_id": "4e357016-83b0-43a8-a64e-c47cf8367d34",\n  "source_type": "journey",\n  "source_id": "d32ee890-73be-11ec-ab85-6950938ffb7d"\n}\n')))}d.isMDXComponent=!0},1242:function(e,n,t){n.Z=t.p+"assets/images/submission-b28cf54257a8e61c01420b206281f97a.png"}}]);