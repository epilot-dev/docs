"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[2140],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>b});var i=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,b=u["".concat(s,".").concat(m)]||u[m]||c[m]||a;return n?i.createElement(b,o(o({ref:t},d),{},{components:n})):i.createElement(b,o({ref:t},d))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<a;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},89646:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var i=n(87462),r=(n(67294),n(3905));const a={sidebar_position:3},o="Attributes",l={unversionedId:"entities/attributes",id:"entities/attributes",title:"Attributes",description:"[API Docs]",source:"@site/docs/entities/attributes.md",sourceDirName:"entities",slug:"/entities/attributes",permalink:"/docs/entities/attributes",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/entities/attributes.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"appsSidebar",previous:{title:"Entity Builder",permalink:"/docs/entities/entity-builder"},next:{title:"Entity Tables",permalink:"/docs/entities/entity-tables"}},s=[{value:"String Attribute",id:"string-attribute",children:[],level:2},{value:"Select Attribute",id:"select-attribute",children:[],level:2},{value:"Boolean Attribute",id:"boolean-attribute",children:[],level:2},{value:"Configuring a Render Condition",id:"configuring-a-render-condition",children:[{value:"Limitations",id:"limitations",children:[{value:"Attribute Values",id:"attribute-values",children:[],level:4},{value:"Composed Expressions",id:"composed-expressions",children:[],level:4},{value:"Expression Builder",id:"expression-builder",children:[],level:4}],level:3}],level:2}],p={toc:s},d="wrapper";function u(e){let{components:t,...a}=e;return(0,r.kt)(d,(0,i.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"attributes"},"Attributes"),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"/api/entity/#tag/Schemas"},"API Docs"),"]\n[",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@epilot/entity-client"},"SDK"),"]"),(0,r.kt)("p",null,"The most basic way to configure entities is to define a list of Attributes for your schemas"),(0,r.kt)("p",null,"Attributes defined in the schema are rendered as columns in tables and editable fields on the entity edit view."),(0,r.kt)("p",null,"Each attribute has a ",(0,r.kt)("inlineCode",{parentName:"p"},"type"),", a field ",(0,r.kt)("inlineCode",{parentName:"p"},"name"),", and a display ",(0,r.kt)("inlineCode",{parentName:"p"},"title"),"."),(0,r.kt)("h2",{id:"string-attribute"},"String Attribute"),(0,r.kt)("p",null,"A ",(0,r.kt)("inlineCode",{parentName:"p"},"string")," type attribute defines a simple text field or textarea."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"String Attribute",src:n(37603).Z,width:"1520",height:"524"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'// basic text field\n{\n  "type": "string",\n  "name": "basic_text_field",\n  "label": "Basic Text Field"\n}\n// with placeholder\n{\n  "type": "string",\n  "name": "with_placeholder",\n  "label": "Text with placeholder",\n  "placeholder": "Write your name here"\n}\n// multi-line textarea\n{\n  "type": "string",\n  "name": "textarea",\n  "label": "Textarea",\n  "multiline": true,\n  "rows": 3,\n  "layout": "full_width",\n}\n')),(0,r.kt)("h2",{id:"select-attribute"},"Select Attribute"),(0,r.kt)("p",null,"A ",(0,r.kt)("inlineCode",{parentName:"p"},"select")," type attribute defines a dropdown list with predefined options."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Select Attribute",src:n(3682).Z,width:"1526",height:"578"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'// simple dropdown list with options\n{\n  "type": "select",\n  "name": "simple_select",\n  "label": "Simple Dropdown",\n  "options": ["Yes", "No", "Maybe"]\n}\n// dropdown list with title/value pairs\n{\n  "type": "select",\n  "name": "with_values",\n  "label": "Dropdown with values",\n  "options": [\n    {\n      "title": "Pending",\n      "value": "pending"\n    },\n    {\n      "title": "In Progress",\n      "value": "in_progress"\n    },\n    {\n      "title": "Done",\n      "value": "completed"\n    }\n  ]\n}\n// autocomplete with free text input\n{\n  "type": "select",\n  "name": "autocomplete",\n  "label": "Autocomplete",\n  "options": [],\n  "allow_any": true\n}\n')),(0,r.kt)("h2",{id:"boolean-attribute"},"Boolean Attribute"),(0,r.kt)("p",null,"A ",(0,r.kt)("inlineCode",{parentName:"p"},"boolean")," attribute defines a toggle selection with ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," values."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Boolean Attribute",src:n(7137).Z,width:"1516",height:"310"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'// simple toggle, enabled by default\n{\n  "type": "boolean",\n  "name": "enabled",\n  "label": "Enabled",\n  "default": true\n}\n')),(0,r.kt)("h1",{id:"conditional-rendering"},"Conditional Rendering"),(0,r.kt)("p",null,"The Conditional Rendering feature, controls the visibility of Schema attributes inside of our Entity Details View. As expected, when dealing with attributes, it's likely that depending on the available entity data, some attribute(s) may need to be hidden depending upon certain logical condition. To accommodate that, entity attributes can be controlled by a conditional rendering expression. "),(0,r.kt)("p",null,"An expression is composed by three parts:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'<attribute_name> {operand} "<value>"\n')),(0,r.kt)("p",null,"The following example, illustrates a simple expression:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'type = "electric"\n')),(0,r.kt)("p",null,"Expressions can also be composed by multiple expressions with two conditional operators: ",(0,r.kt)("inlineCode",{parentName:"p"},"OR")," and an ",(0,r.kt)("inlineCode",{parentName:"p"},"AND"),"."),(0,r.kt)("p",null,"An example of a composed expression would look like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'type = "electric" AND is_rechargeable = "true"\n')),(0,r.kt)("p",null,"The list of supported operators include:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"=,!=,>=,<=,>,<\n")),(0,r.kt)("h2",{id:"configuring-a-render-condition"},"Configuring a Render Condition"),(0,r.kt)("p",null,"A render condition can be configured in 3 scenarios:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Entity List Item lists"),(0,r.kt)("li",{parentName:"ul"},"On attributes rendered inside of an Entity Details view"),(0,r.kt)("li",{parentName:"ul"},"On attribute groups")),(0,r.kt)("p",null,"The render condition is configured by using the property ",(0,r.kt)("inlineCode",{parentName:"p"},"render_condition"),". Below a set of examples illustrates each one of the scenarios mentioned above."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Entity List Item lists"),", displaying specific summary attributes depending on a given condition:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'{\n  "ui_config": {\n    "list_item": {\n      "summary_attributes": [\n        {\n          "label": "Variability",\n          "value": "{{t \\"summary.Variable\\" }}",\n          "show_as_tag": true,\n          "tag_color": "secondary",\n          "render_condition": \'is_composite_price = "false" & variable_price = "true"\'\n        }\n      ]\n    }\n  }\n}\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Attributes rendered on an Entity Details view")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'{\n  "name": "price_components",\n  "label": "Price Component",\n  "type": "relation",\n  "show_in_table": true,\n  "render_condition": \'is_composite_price = "true"\'\n}  \n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Attribute Groups"),", displayed conditionally"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'{\n  "id": "Payment Information",\n  "label": "Payment Information",\n  "expanded": true,\n  "order": 20,\n  "render_condition": \'is_composite_price = "false"\'\n}\n')))),(0,r.kt)("p",null,"When building ",(0,r.kt)("inlineCode",{parentName:"p"},"render_condition"),"'s the user can access the full entity context, which means all attributes of the current entity will be available on the expression."),(0,r.kt)("h3",{id:"limitations"},"Limitations"),(0,r.kt)("h4",{id:"attribute-values"},"Attribute Values"),(0,r.kt)("p",null,"We only support comparisons using strings and numbers. Comparing two objects or arrays is not supported. However, nested properties of objects and arrays can be used to build the expression. For example: ",(0,r.kt)("inlineCode",{parentName:"p"},'price_components.value.$relation.length < "1"')),(0,r.kt)("h4",{id:"composed-expressions"},"Composed Expressions"),(0,r.kt)("p",null,"At the moment, a composed expression can only be combined by one type of logical operator at a time. Which means, you can have a full expression composed by ANDs or by ORs, but not by both."),(0,r.kt)("p",null,"Examples:"),(0,r.kt)("p",null,"\u2705 ",(0,r.kt)("inlineCode",{parentName:"p"},'type="electric" AND is_rechargeable="true"')),(0,r.kt)("p",null,"\u274c ",(0,r.kt)("inlineCode",{parentName:"p"},'type = "electric" AND is_rechargeable = "true" OR is_recharges_count > "1"')),(0,r.kt)("h4",{id:"expression-builder"},"Expression Builder"),(0,r.kt)("p",null,"The Entity Builder, doesn't support a good UI yet for building such expressions. Which means the only way to configure them is by changing the (schema's) code on the Entity Builder."))}u.isMDXComponent=!0},7137:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/attribute-boolean-885df31ac3e0974f87deceb1bf21fb6b.png"},3682:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/attribute-select-dea11112372440fa2f69e892b179275e.png"},37603:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/attribute-string-ede1b0bec0d9c5fec918982a3b4b2c0f.png"}}]);