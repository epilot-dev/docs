"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[27574],{35722:(t,e,a)=>{a.d(e,{G:()=>m});var n=a(42858),i=a(67294),o=a(25108);let r=0,s=!1;const l=(t,e)=>{const a=t?.getAttribute("data-theme")??"light",n="dark"===a?"dark":"default";return e?.theme?.[a]??e?.mermaid?.theme??n},m=t=>{let{chart:e,config:a}=t;const m=(0,i.useRef)(null),u=(0,i.useRef)("mermaid-"+r++),[d,p]=(0,i.useState)(""),c=(0,i.useMemo)((()=>"string"==typeof a?JSON.parse(a):a),[a]);return(0,i.useEffect)((()=>{if("undefined"==typeof window)return;const t=document.querySelector("html"),a=l(t,c);s||(n.Z.initialize({startOnLoad:!1,theme:a,...c?.mermaid||{}}),s=!0);(async()=>{try{const{svg:t}=await n.Z.render(u.current,e);p(t)}catch(t){o.error("Mermaid rendering failed:",t)}})()}),[e,c]),(0,i.useEffect)((()=>{if("undefined"==typeof window)return;const t=document.querySelector("html"),a=new MutationObserver((a=>{for(const i of a){if("attributes"!==i.type||"data-theme"!==i.attributeName)continue;const a=l(t,c);s=!1,n.Z.initialize({startOnLoad:!1,theme:a,...c?.mermaid||{}}),s=!0,u.current="mermaid-"+r++,n.Z.render(u.current,e).then((t=>{let{svg:e}=t;p(e)}));break}}));return a.observe(t,{attributes:!0}),()=>a.disconnect()}),[e,c]),"undefined"==typeof window?i.createElement("div",{className:"mermaid"},e):i.createElement("div",{ref:m,dangerouslySetInnerHTML:{__html:d}})}},58866:(t,e,a)=>{a.r(e),a.d(e,{contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>m});var n=a(87462),i=(a(67294),a(3905)),o=a(35722);const r={sidebar_position:2},s="Automation Flows",l={unversionedId:"automation/automation-flows",id:"automation/automation-flows",title:"Automation Flows",description:"[API Docs]",source:"@site/docs/automation/automation-flows.md",sourceDirName:"automation",slug:"/automation/automation-flows",permalink:"/docs/automation/automation-flows",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/automation/automation-flows.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docsSidebar",previous:{title:"Overview",permalink:"/docs/automation/intro"},next:{title:"Automation Executions",permalink:"/docs/automation/automation-executions"}},m=[{value:"Automation Triggers",id:"automation-triggers",children:[],level:2},{value:"Automation Actions",id:"automation-actions",children:[],level:2}],u={toc:m},d="wrapper";function p(t){let{components:e,...a}=t;return(0,i.kt)(d,(0,n.Z)({},u,a,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"automation-flows"},"Automation Flows"),(0,i.kt)("p",null,"[",(0,i.kt)("a",{parentName:"p",href:"/api/automation#tag/flows"},"API Docs"),"]\n[",(0,i.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@epilot/automation-client"},"SDK"),"]"),(0,i.kt)("p",null,"Automation configurations in epilot are called ",(0,i.kt)("strong",{parentName:"p"},"Automation Flows"),"."),(0,i.kt)("p",null,"Each Automation Flow consists of:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Triggers")," -- when the automation executes"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Actions")," -- what happens when it executes")),(0,i.kt)("h2",{id:"automation-triggers"},"Automation Triggers"),(0,i.kt)("p",null,"The following trigger types are supported:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Journey Submission")," -- fires when a ",(0,i.kt)("a",{parentName:"li",href:"/docs/journeys/journey-builder"},"Journey")," receives a new ",(0,i.kt)("a",{parentName:"li",href:"/docs/journeys/submissions"},"Submission")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Frontend Submission")," -- fires when a Frontend receives a new ",(0,i.kt)("a",{parentName:"li",href:"/docs/journeys/submissions"},"Submission")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"API Submission")," -- fires when a submission arrives via the ",(0,i.kt)("a",{parentName:"li",href:"/api/submission"},"Submission API")," with a matching ",(0,i.kt)("inlineCode",{parentName:"li"},"source_id")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Manual")," -- triggered by a user from the Entity view"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Entity Operation")," -- fires on create, update, or delete events for a specific Entity Schema (e.g. Contacts)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Received Email")," -- fires when an inbound email is received"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Activity")," -- fires on activity events")),(0,i.kt)("h2",{id:"automation-actions"},"Automation Actions"),(0,i.kt)(o.G,{chart:'flowchart LR\n    Trigger["Trigger\\n(Journey, Entity, Email, Manual)"] --\x3e A1["Map Entity"]\n    A1 --\x3e A2["Send Email"]\n    A2 --\x3e A3["Start Workflow"]\n    A3 --\x3e A4["Trigger Webhook"]',mdxType:"Mermaid"}),(0,i.kt)("p",null,"Supported action types:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Create/Edit Entity")," (",(0,i.kt)("inlineCode",{parentName:"li"},"map-entity"),") -- maps data from the triggering entity to create or update other business entities. See ",(0,i.kt)("a",{parentName:"li",href:"/docs/automation/entity-mapping"},"Entity Mapping"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Trigger Webhook")," (",(0,i.kt)("inlineCode",{parentName:"li"},"trigger-webhook"),") -- sends a webhook to an external system with the trigger event and all related entities as payload."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Start Workflow")," (",(0,i.kt)("inlineCode",{parentName:"li"},"trigger-workflow"),") -- starts a Workflow on the triggering entity with all related entities as context."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Send Email")," (",(0,i.kt)("inlineCode",{parentName:"li"},"send-email"),") -- sends an email using an Email Template with variables from the triggering entity and its relations."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Create Document")," (",(0,i.kt)("inlineCode",{parentName:"li"},"create-document"),") -- generates a document attachment using a document template."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Create Order")," (",(0,i.kt)("inlineCode",{parentName:"li"},"cart-checkout"),") -- creates an Order entity with product line items from submission data.")))}p.isMDXComponent=!0}}]);