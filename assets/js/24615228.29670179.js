"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[21812],{11361:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(75773),i=n(63764),l=n(67294);const o="container_l7Gi",r="header_gesl",c="fileName_Z4_y",s="controls_GJcU",d="controlButton_JKKX",m="downloadButton_kTCR",u="editorWrapper_gwAd",v=e=>{let{data:t,fileName:n,downloadUrl:v,defaultFoldLevel:h=1}=e;const p=(0,l.useRef)(null),[f,g]=(0,l.useState)(!1),[E,k]=(0,l.useState)(!1),{colorMode:y}=(0,a.If)(),w=(0,l.useCallback)((()=>{p.current&&(g(!0),p.current.getAction("editor.unfoldAll").run(),setTimeout((()=>g(!1)),100))}),[]),b=(0,l.useCallback)((()=>{p.current&&(g(!0),p.current.getAction("editor.foldAll").run(),setTimeout((()=>{p.current.getModel()&&(p.current.setPosition({lineNumber:1,column:1}),p.current.getAction("editor.unfold").run()),g(!1)}),50))}),[]),C=(0,l.useCallback)((()=>{navigator.clipboard.writeText(t).then((()=>{k(!0),setTimeout((()=>k(!1)),2e3)}))}),[t]);return l.createElement("div",{className:o},l.createElement("div",{className:r},l.createElement("span",{className:c},n),l.createElement("div",{className:s},l.createElement("button",{type:"button",onClick:w,className:d,title:"Expand all",disabled:f},l.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("polyline",{points:"7 13 12 18 17 13"}),l.createElement("polyline",{points:"7 6 12 11 17 6"})),"Expand All"),l.createElement("button",{type:"button",onClick:b,className:d,title:"Collapse all",disabled:f},l.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("polyline",{points:"17 11 12 6 7 11"}),l.createElement("polyline",{points:"17 18 12 13 7 18"})),"Collapse All"),l.createElement("button",{type:"button",onClick:C,className:d,title:E?"Copied!":"Copy to clipboard"},E?l.createElement(l.Fragment,null,l.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("polyline",{points:"20 6 9 17 4 12"})),"Copied!"):l.createElement(l.Fragment,null,l.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),l.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})),"Copy")),l.createElement("a",{href:v,download:!0,className:m,title:"Download JSON"},l.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},l.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),l.createElement("polyline",{points:"7 10 12 15 17 10"}),l.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),"Download"))),l.createElement("div",{className:u},l.createElement(i.ZP,{height:"600px",defaultLanguage:"json",value:t,theme:"dark"===y?"vs-dark":"light",onMount:e=>{p.current=e,setTimeout((()=>{h===1/0?e.getAction("editor.unfoldAll").run():0===h?e.getAction("editor.foldAll").run():(e.getAction("editor.foldAll").run(),setTimeout((()=>{if(e.getModel()&&(e.setPosition({lineNumber:1,column:1}),e.getAction("editor.unfold").run(),h>1))for(let t=1;t<h;t++)e.trigger("fold","editor.unfoldRecursively",{})}),50))}),100)},options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"off",folding:!0,foldingStrategy:"indentation",renderLineHighlight:"none",scrollbar:{vertical:"auto",horizontal:"auto",useShadows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10},fontSize:13,fontFamily:getComputedStyle(document.documentElement).getPropertyValue("--ifm-font-family-monospace").trim()||"monospace",automaticLayout:!0}})))}},42799:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(23009),i=n(67294);const l=e=>i.createElement(a.EpilotIcon,e)},35722:(e,t,n)=>{n.d(t,{G:()=>s});var a=n(42858),i=n(67294),l=n(25108);let o=0,r=!1;const c=(e,t)=>{const n=e?.getAttribute("data-theme")??"light",a="dark"===n?"dark":"default";return t?.theme?.[n]??t?.mermaid?.theme??a},s=e=>{let{chart:t,config:n}=e;const s=(0,i.useRef)(null),d=(0,i.useRef)("mermaid-"+o++),[m,u]=(0,i.useState)(""),v=(0,i.useMemo)((()=>"string"==typeof n?JSON.parse(n):n),[n]);return(0,i.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),n=c(e,v);r||(a.Z.initialize({startOnLoad:!1,theme:n,...v?.mermaid||{}}),r=!0);(async()=>{try{const{svg:e}=await a.Z.render(d.current,t);u(e)}catch(e){l.error("Mermaid rendering failed:",e)}})()}),[t,v]),(0,i.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),n=new MutationObserver((n=>{for(const i of n){if("attributes"!==i.type||"data-theme"!==i.attributeName)continue;const n=c(e,v);r=!1,a.Z.initialize({startOnLoad:!1,theme:n,...v?.mermaid||{}}),r=!0,d.current="mermaid-"+o++,a.Z.render(d.current,t).then((e=>{let{svg:t}=e;u(t)}));break}}));return n.observe(e,{attributes:!0}),()=>n.disconnect()}),[t,v]),"undefined"==typeof window?i.createElement("div",{className:"mermaid"},t):i.createElement("div",{ref:s,dangerouslySetInnerHTML:{__html:m}})}},35952:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>v,default:()=>E,frontMatter:()=>u,metadata:()=>h,toc:()=>p});var a=n(87462),i=n(67294),l=n(3905),o=(n(35722),n(42799)),r=n(81604),c=n(50967),s=n(11361),d=n(41288);const m=e=>{let{event:t,apiLink:n,icon:a="entity"}=e;const[l,m]=(0,i.useState)(""),[u,v]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[f,g]=(0,i.useState)(null),[E,k]=(0,i.useState)("none"),[y,w]=(0,i.useState)(!1),[b,C]=(0,i.useState)(null),[N,_]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{try{const e=await fetch(`/events/${t}.config.json`);if(e.ok){const t=await e.json();_(t),v(JSON.stringify(t,null,2))}}catch{}})()}),[t]);const x=N?.event_title??t,S=N?.event_description??"";return i.createElement("div",{id:t,className:`${d.Z.container} entitySchemaViewer`},i.createElement("div",{className:d.Z.header},i.createElement("div",{className:d.Z.titleRow},a&&i.createElement(o.Z,{name:a,size:24}),i.createElement("h4",{className:d.Z.entityTitle},x),i.createElement("code",{className:d.Z.eventName},t),i.createElement("a",{href:`#${t}`,className:d.Z.anchorLink,"aria-label":`Link to ${x}`},"#")),i.createElement("p",{className:d.Z.description},S),n&&i.createElement("div",{className:d.Z.apiLink},i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},i.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),i.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})),i.createElement("a",{href:n,className:d.Z.apiLinkText},"API Reference"))),i.createElement("div",{className:d.Z.controls},i.createElement("div",{className:d.Z.buttonGroup},i.createElement("button",{type:"button",onClick:async()=>{if("sample"!==E)if(l)k("sample");else{w(!0),C(null);try{const e=await fetch(`/events/${t}.sample.json`);if(!e.ok)throw new Error("Failed to load sample");const n=await e.json();m(JSON.stringify(n,null,2)),k("sample")}catch(e){C(e.message)}finally{w(!1)}}else k("none")},className:`${d.Z.button} ${"sample"===E?d.Z.buttonActive:""}`,disabled:y},i.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true"},i.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),i.createElement("polyline",{points:"14 2 14 8 20 8"})),"Sample"),i.createElement("button",{type:"button",onClick:async()=>{if("schema"!==E)if(h)k("schema");else{w(!0),C(null);try{const e=await fetch(`/events/${t}.schema.json`);if(!e.ok)throw new Error("Failed to load schema");const n=await e.json();p(JSON.stringify(n,null,2)),g(n),k("schema")}catch(e){C(e.message)}finally{w(!1)}}else k("none")},className:`${d.Z.button} ${"schema"===E?d.Z.buttonActive:""}`,disabled:y},i.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true"},i.createElement("polyline",{points:"16 18 22 12 16 6"}),i.createElement("polyline",{points:"8 6 2 12 8 18"})),"JSON Schema"),i.createElement("button",{type:"button",onClick:async()=>{if("visual"!==E)if(f)k("visual");else{w(!0),C(null);try{const e=await fetch(`/events/${t}.schema.json`);if(!e.ok)throw new Error("Failed to load schema");const n=await e.json();g(n),h||p(JSON.stringify(n,null,2)),k("visual")}catch(e){C(e.message)}finally{w(!1)}}else k("none")},className:`${d.Z.button} ${"visual"===E?d.Z.buttonActive:""}`,disabled:y},i.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true"},i.createElement("circle",{cx:"9",cy:"7",r:"1",fill:"currentColor"}),i.createElement("circle",{cx:"9",cy:"12",r:"1",fill:"currentColor"}),i.createElement("circle",{cx:"9",cy:"17",r:"1",fill:"currentColor"}),i.createElement("line",{x1:"13",y1:"7",x2:"21",y2:"7"}),i.createElement("line",{x1:"13",y1:"12",x2:"21",y2:"12"}),i.createElement("line",{x1:"13",y1:"17",x2:"21",y2:"17"})),"Fields"))),b&&i.createElement("div",{className:d.Z.error},i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},i.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})),b),"sample"===E&&l&&i.createElement(s.Z,{data:l,fileName:`${t}.sample.json`,downloadUrl:`/events/${t}.sample.json`,defaultFoldLevel:1}),"config"===E&&u&&i.createElement(s.Z,{data:u,fileName:`${t}.config.json`,downloadUrl:`/events/${t}.config.json`,defaultFoldLevel:1}),"schema"===E&&h&&i.createElement(s.Z,{data:h,fileName:`${t}.schema.json`,downloadUrl:`/events/${t}.schema.json`,defaultFoldLevel:1/0}),"visual"===E&&f&&i.createElement("div",{className:`stoplight-viewer ${d.Z.visualContainer}`},i.createElement(c.zt,null,i.createElement(r.KN,{schema:f,defaultExpandedDepth:2,skipTopLevelDescription:!0}))))},u={sidebar_position:3,title:"Core Events"},v="Core Events",h={unversionedId:"integrations/core-events",id:"integrations/core-events",title:"Core Events",description:"epilot's core event catalog with built-in event schemas, examples, and schema definitions.",source:"@site/docs/integrations/core-events.md",sourceDirName:"integrations",slug:"/integrations/core-events",permalink:"/docs/integrations/core-events",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/integrations/core-events.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Core Events"},sidebar:"docsSidebar",previous:{title:"Environments & Secrets",permalink:"/docs/integrations/webhooks/environments-secrets"},next:{title:"Overview",permalink:"/docs/integrations/erp-toolkit/overview"}},p=[{value:"Event Architecture",id:"event-architecture",children:[{value:"Common Event Fields",id:"common-event-fields",children:[],level:3}],level:2},{value:"Built-in Event Schemas",id:"built-in-event-schemas",children:[{value:"Metering",id:"metering",children:[],level:3},{value:"Customer",id:"customer",children:[],level:3},{value:"Billing Account",id:"billing-account",children:[],level:3},{value:"Automation",id:"automation",children:[],level:3}],level:2}],f={toc:p},g="wrapper";function E(e){let{components:t,...n}=e;return(0,l.kt)(g,(0,a.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"core-events"},"Core Events"),(0,l.kt)("p",null,"epilot's core event catalog with built-in event schemas, examples, and schema definitions."),(0,l.kt)("p",null,"See the ",(0,l.kt)("a",{parentName:"p",href:"/api/changelog"},"API Changelog")," for recent changes to events and APIs."),(0,l.kt)("h2",{id:"event-architecture"},"Event Architecture"),(0,l.kt)("p",null,"Events follow a consistent structure with common metadata fields and event-specific payloads. Each event may include hydrated entity data from the entity graph."),(0,l.kt)("h3",{id:"common-event-fields"},"Common Event Fields"),(0,l.kt)("p",null,"All events include these fields:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_org_id"),": epilot tenant/organization ID"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_event_time"),": ISO 8601 timestamp when event occurred"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_event_id"),": Unique event identifier (ULID)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_event_name"),": Event name from catalog"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_event_version"),": Schema version number"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_event_source"),": Source that triggered the event")),(0,l.kt)("h2",{id:"built-in-event-schemas"},"Built-in Event Schemas"),(0,l.kt)("h3",{id:"metering"},"Metering"),(0,l.kt)(m,{event:"MeterReadingAdded",mdxType:"EventSchemaViewer"}),(0,l.kt)("h3",{id:"customer"},"Customer"),(0,l.kt)(m,{event:"CustomerDetailsUpdated",mdxType:"EventSchemaViewer"}),(0,l.kt)("h3",{id:"billing-account"},"Billing Account"),(0,l.kt)(m,{event:"InstallmentUpdated",mdxType:"EventSchemaViewer"}),(0,l.kt)(m,{event:"PaymentMethodUpdated",mdxType:"EventSchemaViewer"}),(0,l.kt)(m,{event:"BillingAddressUpdated",mdxType:"EventSchemaViewer"}),(0,l.kt)("h3",{id:"automation"},"Automation"),(0,l.kt)("p",null,"These events are triggered manually via automation."),(0,l.kt)(m,{event:"GeneralRequestCreated",mdxType:"EventSchemaViewer"}),(0,l.kt)(m,{event:"LocationMoveRequested",mdxType:"EventSchemaViewer"}),(0,l.kt)(m,{event:"TerminateContractRequested",mdxType:"EventSchemaViewer"}),(0,l.kt)(m,{event:"BillingAccountConnectionRemoved",mdxType:"EventSchemaViewer"}),(0,l.kt)(m,{event:"ServiceMeterReadingAdded",mdxType:"EventSchemaViewer"}))}E.isMDXComponent=!0},41288:(e,t,n)=>{n.d(t,{Z:()=>a});const a={container:"container_Au8i",header:"header_KMaj",titleRow:"titleRow_CP53",tagContainer:"tagContainer_mOO0",tag:"tag_ey7J",entityTitle:"entityTitle_4lbs",anchorLink:"anchorLink_CQtf",eventName:"eventName_s79V",description:"description_wxvX",apiLink:"apiLink_WOq3",apiLinkText:"apiLinkText_OyUe",controls:"controls_melv",buttonGroup:"buttonGroup_RrKA",button:"button_VkD5",buttonActive:"buttonActive_U88G",codeHeader:"codeHeader_ei9M",codeTitle:"codeTitle_hGFQ",downloadButton:"downloadButton_pE08",error:"error_pP3b",codeContainer:"codeContainer_OL6j",slideDown:"slideDown_Ew55",visualContainer:"visualContainer_pcPv",downloadLink:"downloadLink_Y702",downloadGroup:"downloadGroup_RChU"}}}]);