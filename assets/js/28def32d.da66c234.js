"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[77344],{35722:(e,t,n)=>{n.d(t,{G:()=>d});var a=n(42858),i=n(67294),o=n(25108);let r=0,s=!1;const l=(e,t)=>{const n=e?.getAttribute("data-theme")??"light",a="dark"===n?"dark":"default";return t?.theme?.[n]??t?.mermaid?.theme??a},d=e=>{let{chart:t,config:n}=e;const d=(0,i.useRef)(null),p=(0,i.useRef)("mermaid-"+r++),[m,c]=(0,i.useState)(""),N=(0,i.useMemo)((()=>"string"==typeof n?JSON.parse(n):n),[n]);return(0,i.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),n=l(e,N);s||(a.Z.initialize({startOnLoad:!1,theme:n,...N?.mermaid||{}}),s=!0);(async()=>{try{const{svg:e}=await a.Z.render(p.current,t);c(e)}catch(e){o.error("Mermaid rendering failed:",e)}})()}),[t,N]),(0,i.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),n=new MutationObserver((n=>{for(const i of n){if("attributes"!==i.type||"data-theme"!==i.attributeName)continue;const n=l(e,N);s=!1,a.Z.initialize({startOnLoad:!1,theme:n,...N?.mermaid||{}}),s=!0,p.current="mermaid-"+r++,a.Z.render(p.current,t).then((e=>{let{svg:t}=e;c(t)}));break}}));return n.observe(e,{attributes:!0}),()=>n.disconnect()}),[t,N]),"undefined"==typeof window?i.createElement("div",{className:"mermaid"},t):i.createElement("div",{ref:d,dangerouslySetInnerHTML:{__html:m}})}},16313:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var a=n(87462),i=(n(67294),n(3905));n(35722);const o={title:"Notes API",sidebar_position:3},r=void 0,s={unversionedId:"notes/notes_api",id:"notes/notes_api",title:"Notes API",description:"[API Docs] [SDK]",source:"@site/docs/notes/notes_api.mdx",sourceDirName:"notes",slug:"/notes/notes_api",permalink:"/docs/notes/notes_api",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/notes/notes_api.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Notes API",sidebar_position:3},sidebar:"docsSidebar",previous:{title:"Note Entities",permalink:"/docs/notes/note_entities"},next:{title:"Template Variables",permalink:"/docs/templates/template-variables"}},l=[{value:"Getting Notes by Context",id:"getting-notes-by-context",children:[{value:"Non-Entity Contexts",id:"non-entity-contexts",children:[],level:3}],level:2},{value:"Creating and Updating Notes",id:"creating-and-updating-notes",children:[{value:"Content Formatting Rules",id:"content-formatting-rules",children:[],level:3}],level:2},{value:"Pinning Notes",id:"pinning-notes",children:[],level:2},{value:"Deleting Notes",id:"deleting-notes",children:[],level:2}],d={toc:l},p="wrapper";function m(e){let{components:t,...n}=e;return(0,i.kt)(p,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"[",(0,i.kt)("a",{parentName:"p",href:"/api/notes"},"API Docs"),"] [",(0,i.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@epilot/notes-client"},"SDK"),"]"),(0,i.kt)("p",null,"The Notes API lets developers and integration partners create, read, update, and delete Note entities."),(0,i.kt)("h2",{id:"getting-notes-by-context"},"Getting Notes by Context"),(0,i.kt)("p",null,"Use the ",(0,i.kt)("a",{parentName:"p",href:"/api/notes#tag/Notes/operation/getNotesByContext"},(0,i.kt)("inlineCode",{parentName:"a"},"getNotesByContext"))," operation to retrieve all notes associated with an entity."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET /v1/notes/{entity_id}\n")),(0,i.kt)("h3",{id:"non-entity-contexts"},"Non-Entity Contexts"),(0,i.kt)("p",null,"Filter notes by non-entity contexts such as ",(0,i.kt)("inlineCode",{parentName:"p"},"workflow_execution")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"workflow_task")," using the ",(0,i.kt)("inlineCode",{parentName:"p"},"contexts")," query parameter:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'GET /v1/notes/{entity_id}?contexts[]={"type":"workflow_execution","id":"zio6qcaduot"}\n')),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"URL-encode the ",(0,i.kt)("inlineCode",{parentName:"p"},"contexts")," parameter values using ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent"},(0,i.kt)("inlineCode",{parentName:"a"},"encodeURIComponent()")),"."))),(0,i.kt)("h2",{id:"creating-and-updating-notes"},"Creating and Updating Notes"),(0,i.kt)("p",null,"Create a note with ",(0,i.kt)("a",{parentName:"p",href:"/api/notes#tag/Notes/operation/createNote"},(0,i.kt)("inlineCode",{parentName:"a"},"createNote")),". Update an existing note with ",(0,i.kt)("a",{parentName:"p",href:"/api/notes#tag/Notes/operation/updateNote"},(0,i.kt)("inlineCode",{parentName:"a"},"updateNote"))," or ",(0,i.kt)("a",{parentName:"p",href:"/api/notes#tag/Notes/operation/patchNote"},(0,i.kt)("inlineCode",{parentName:"a"},"patchNote")),". These operations accept all attributes defined on the Note entity schema, plus a ",(0,i.kt)("inlineCode",{parentName:"p"},"content")," attribute containing stringified HTML."),(0,i.kt)("h3",{id:"content-formatting-rules"},"Content Formatting Rules"),(0,i.kt)("p",null,"Note content is normalized -- inline style attributes are stripped. Use standard HTML tags for formatting:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Wrap all content in a ",(0,i.kt)("inlineCode",{parentName:"li"},"<body>")," tag"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"<p>")," for paragraphs",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Use ",(0,i.kt)("inlineCode",{parentName:"li"},"<span>")," with the ",(0,i.kt)("inlineCode",{parentName:"li"},"epilot360-comment-user-id")," attribute to mention users"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"<h1>")," to ",(0,i.kt)("inlineCode",{parentName:"li"},"<h3>")," for headings (max 3 levels)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"<ol>")," / ",(0,i.kt)("inlineCode",{parentName:"li"},"<ul>")," with ",(0,i.kt)("inlineCode",{parentName:"li"},"<li>")," for lists"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},'<a href="...">')," for links"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"<strong>")," / ",(0,i.kt)("inlineCode",{parentName:"li"},"<b>")," for bold, ",(0,i.kt)("inlineCode",{parentName:"li"},"<em>")," / ",(0,i.kt)("inlineCode",{parentName:"li"},"<i>")," for italic, ",(0,i.kt)("inlineCode",{parentName:"li"},"<u>")," for underline")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="createNote request body"',title:'"createNote',request:!0,'body"':!0},'{\n  "entity_id": "4e9f4d7a-f5d8-4f0d-b8d6-d1b1d5f1f2f3",\n  "content": "<body><p>Hello from epilot</p></body>"\n}\n')),(0,i.kt)("h2",{id:"pinning-notes"},"Pinning Notes"),(0,i.kt)("p",null,"Use ",(0,i.kt)("a",{parentName:"p",href:"/api/notes#tag/Notes/operation/pinNote"},(0,i.kt)("inlineCode",{parentName:"a"},"pinNote"))," to pin a note to the top of the Notes tab. Pass the Note entity ID as a path parameter."),(0,i.kt)("h2",{id:"deleting-notes"},"Deleting Notes"),(0,i.kt)("p",null,"Use ",(0,i.kt)("a",{parentName:"p",href:"/api/notes#tag/Notes/operation/deleteNote"},(0,i.kt)("inlineCode",{parentName:"a"},"deleteNote"))," to delete a note. Pass the Note entity ID as a path parameter."),(0,i.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Deleting a note that has comments also deletes all comment Note entities in that thread."))))}m.isMDXComponent=!0}}]);