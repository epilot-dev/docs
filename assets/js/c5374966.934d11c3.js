"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[32140],{35722:(e,t,n)=>{n.d(t,{G:()=>p});var a=n(42858),l=n(67294),i=n(25108);let r=0,d=!1;const o=(e,t)=>{const n=e?.getAttribute("data-theme")??"light",a="dark"===n?"dark":"default";return t?.theme?.[n]??t?.mermaid?.theme??a},p=e=>{let{chart:t,config:n}=e;const p=(0,l.useRef)(null),m=(0,l.useRef)("mermaid-"+r++),[s,u]=(0,l.useState)(""),k=(0,l.useMemo)((()=>"string"==typeof n?JSON.parse(n):n),[n]);return(0,l.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),n=o(e,k);d||(a.Z.initialize({startOnLoad:!1,theme:n,...k?.mermaid||{}}),d=!0);(async()=>{try{const{svg:e}=await a.Z.render(m.current,t);u(e)}catch(e){i.error("Mermaid rendering failed:",e)}})()}),[t,k]),(0,l.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),n=new MutationObserver((n=>{for(const l of n){if("attributes"!==l.type||"data-theme"!==l.attributeName)continue;const n=o(e,k);d=!1,a.Z.initialize({startOnLoad:!1,theme:n,...k?.mermaid||{}}),d=!0,m.current="mermaid-"+r++,a.Z.render(m.current,t).then((e=>{let{svg:t}=e;u(t)}));break}}));return n.observe(e,{attributes:!0}),()=>n.disconnect()}),[t,k]),"undefined"==typeof window?l.createElement("div",{className:"mermaid"},t):l.createElement("div",{ref:p,dangerouslySetInnerHTML:{__html:s}})}},89646:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>r,default:()=>s,frontMatter:()=>i,metadata:()=>d,toc:()=>o});var a=n(87462),l=(n(67294),n(3905));n(35722);const i={sidebar_position:3,title:"Attributes"},r="Attributes",d={unversionedId:"entities/attributes",id:"entities/attributes",title:"Attributes",description:"[API Docs]",source:"@site/docs/entities/attributes.md",sourceDirName:"entities",slug:"/entities/attributes",permalink:"/docs/entities/attributes",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/entities/attributes.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Attributes"},sidebar:"docsSidebar",previous:{title:"Core Entities",permalink:"/docs/entities/core-entities"},next:{title:"Entity Tables",permalink:"/docs/entities/entity-tables"}},o=[{value:"Common Properties",id:"common-properties",children:[],level:2},{value:"Basic Types",id:"basic-types",children:[{value:"String",id:"string",children:[],level:3},{value:"Number",id:"number",children:[],level:3},{value:"Boolean",id:"boolean",children:[],level:3},{value:"Date",id:"date",children:[],level:3},{value:"Datetime",id:"datetime",children:[],level:3},{value:"Link",id:"link",children:[],level:3}],level:2},{value:"Selection Types",id:"selection-types",children:[{value:"Select",id:"select",children:[],level:3},{value:"Radio",id:"radio",children:[],level:3},{value:"Multiselect",id:"multiselect",children:[],level:3},{value:"Checkbox",id:"checkbox",children:[],level:3},{value:"Status",id:"status",children:[],level:3},{value:"Tags",id:"tags",children:[],level:3},{value:"Country",id:"country",children:[],level:3}],level:2},{value:"Contact Types",id:"contact-types",children:[{value:"Email",id:"email",children:[],level:3},{value:"Phone",id:"phone",children:[],level:3},{value:"Address",id:"address",children:[],level:3}],level:2},{value:"Financial Types",id:"financial-types",children:[{value:"Currency",id:"currency",children:[],level:3},{value:"Payment",id:"payment",children:[],level:3}],level:2},{value:"Relation Types",id:"relation-types",children:[{value:"Relation",id:"relation",children:[],level:3},{value:"Relation User",id:"relation-user",children:[],level:3},{value:"Relation Address",id:"relation-address",children:[],level:3},{value:"Relation Payment Method",id:"relation-payment-method",children:[],level:3}],level:2},{value:"File Types",id:"file-types",children:[{value:"File",id:"file",children:[],level:3},{value:"Image",id:"image",children:[],level:3}],level:2},{value:"Special Types",id:"special-types",children:[{value:"Sequence",id:"sequence",children:[],level:3},{value:"Computed",id:"computed",children:[],level:3},{value:"Consent",id:"consent",children:[],level:3},{value:"Purpose",id:"purpose",children:[],level:3},{value:"Ordered List",id:"ordered-list",children:[],level:3},{value:"Automation",id:"automation",children:[],level:3},{value:"Internal",id:"internal",children:[],level:3}],level:2},{value:"System Attribute Types",id:"system-attribute-types",children:[],level:2},{value:"Repeatable Attributes",id:"repeatable-attributes",children:[],level:2},{value:"Conditional Rendering",id:"conditional-rendering",children:[{value:"Where render conditions apply",id:"where-render-conditions-apply",children:[],level:3},{value:"Limitations",id:"limitations",children:[],level:3}],level:2}],p={toc:o},m="wrapper";function s(e){let{components:t,...n}=e;return(0,l.kt)(m,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"attributes"},"Attributes"),(0,l.kt)("p",null,"[",(0,l.kt)("a",{parentName:"p",href:"/api/entity/#tag/Schemas"},"API Docs"),"]\n[",(0,l.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@epilot/entity-client"},"SDK"),"]"),(0,l.kt)("p",null,"Attributes are the building blocks of ",(0,l.kt)("a",{parentName:"p",href:"/docs/entities/flexible-entities"},"entity schemas"),". Each attribute defines a field that appears as a column in table views and as an editable field in the entity detail view."),(0,l.kt)("p",null,"Every attribute requires a ",(0,l.kt)("inlineCode",{parentName:"p"},"type"),", a field ",(0,l.kt)("inlineCode",{parentName:"p"},"name")," (unique identifier), and a display ",(0,l.kt)("inlineCode",{parentName:"p"},"label"),"."),(0,l.kt)("h2",{id:"common-properties"},"Common Properties"),(0,l.kt)("p",null,"All attribute types share these base properties:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"name")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Unique identifier for the attribute")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"label")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Display label in the UI")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"type")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Attribute type (see sections below)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"required")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Whether the field is required")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"readonly")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Whether the field is read-only")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"hidden")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Do not render in entity views")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"show_in_table")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Show as column in table views")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"sortable")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Allow sorting by this attribute")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"group")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Group ID for UI grouping")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"layout")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Layout hint, e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},'"full_width"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"order")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"integer")),(0,l.kt)("td",{parentName:"tr",align:null},"Sort order within group")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"default_value")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"any")),(0,l.kt)("td",{parentName:"tr",align:null},"Default value for new entities")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"placeholder")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Placeholder text for input")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"repeatable")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Allow multiple values (see ",(0,l.kt)("a",{parentName:"td",href:"#repeatable-attributes"},"Repeatable Attributes"),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"has_primary")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Support marking one item as primary")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"render_condition")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Conditional visibility expression (see ",(0,l.kt)("a",{parentName:"td",href:"#conditional-rendering"},"Conditional Rendering"),")")))),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"basic-types"},"Basic Types"),(0,l.kt)("h3",{id:"string"},"String"),(0,l.kt)("p",null,"A text input or textarea. The most common attribute type."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "string",\n  "name": "description",\n  "label": "Description",\n  "multiline": true,\n  "rich_text": true,\n  "rows": 5\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"multiline")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Render as textarea")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"rich_text")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Enable rich text (HTML) editor")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"rows")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"integer")),(0,l.kt)("td",{parentName:"tr",align:null},"Number of visible rows for textarea")))),(0,l.kt)("h3",{id:"number"},"Number"),(0,l.kt)("p",null,"A numeric input field."),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Number attributes are stored as ",(0,l.kt)("strong",{parentName:"p"},"strings by default")," (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"1234567.89"'),"). Set ",(0,l.kt)("inlineCode",{parentName:"p"},'data_type: "number"')," to store as a numeric type instead. This matters when consuming entity data via the API."))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "number",\n  "name": "quantity",\n  "label": "Quantity",\n  "format": "0,0.00",\n  "show_separator": true,\n  "data_type": "number"\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"format")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Number format pattern (e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},'"0,0.00"'),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"show_separator")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Display thousands separator (default: ",(0,l.kt)("inlineCode",{parentName:"td"},"true"),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"data_type")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"string"')," (default) or ",(0,l.kt)("inlineCode",{parentName:"td"},'"number"')," -- controls the stored JSON type")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value (default)"',title:'"Stored',value:!0,'(default)"':!0},'"1234567.89"\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value (data_type: number)"',title:'"Stored',value:!0,"(data_type:":!0,'number)"':!0},"1234567.89\n")),(0,l.kt)("h3",{id:"boolean"},"Boolean"),(0,l.kt)("p",null,"A toggle with ",(0,l.kt)("inlineCode",{parentName:"p"},"true")," / ",(0,l.kt)("inlineCode",{parentName:"p"},"false")," values. Renders as a switch or checkbox."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "boolean",\n  "name": "is_active",\n  "label": "Active",\n  "default_value": true,\n  "display_type": "switch"\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"display_type")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"switch"')," (default) or ",(0,l.kt)("inlineCode",{parentName:"td"},'"checkbox"'))))),(0,l.kt)("h3",{id:"date"},"Date"),(0,l.kt)("p",null,"A date picker. Values are stored in ISO 8601 format."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "date",\n  "name": "start_date",\n  "label": "Start Date"\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'"2025-01-15"\n')),(0,l.kt)("h3",{id:"datetime"},"Datetime"),(0,l.kt)("p",null,"A date and time picker. Values include the time component in UTC."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "datetime",\n  "name": "scheduled_at",\n  "label": "Scheduled At"\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'"2025-01-15T14:30:00.000Z"\n')),(0,l.kt)("h3",{id:"link"},"Link"),(0,l.kt)("p",null,"A URL field with a display title and href."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "link",\n  "name": "website",\n  "label": "Website"\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'{\n  "title": "epilot",\n  "href": "https://epilot.cloud"\n}\n')),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"selection-types"},"Selection Types"),(0,l.kt)("h3",{id:"select"},"Select"),(0,l.kt)("p",null,"A single-value dropdown. Options can be simple strings or title/value pairs."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "select",\n  "name": "priority",\n  "label": "Priority",\n  "options": [\n    { "title": "Low", "value": "low" },\n    { "title": "Medium", "value": "medium" },\n    { "title": "High", "value": "high" }\n  ]\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"options")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"array")),(0,l.kt)("td",{parentName:"tr",align:null},"List of options (strings or ",(0,l.kt)("inlineCode",{parentName:"td"},"{ title, value }")," objects)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"allow_any")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Allow free-text input (autocomplete mode)")))),(0,l.kt)("h3",{id:"radio"},"Radio"),(0,l.kt)("p",null,"Single selection rendered as radio buttons. Same schema as ",(0,l.kt)("inlineCode",{parentName:"p"},"select"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "radio",\n  "name": "contact_type",\n  "label": "Contact Type",\n  "options": ["Individual", "Business"]\n}\n')),(0,l.kt)("h3",{id:"multiselect"},"Multiselect"),(0,l.kt)("p",null,"Multiple choice selection from a dropdown."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "multiselect",\n  "name": "categories",\n  "label": "Categories",\n  "options": ["Solar", "Wind", "Gas", "Electric"],\n  "allow_extra_options": true\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"options")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"array")),(0,l.kt)("td",{parentName:"tr",align:null},"List of options (strings or ",(0,l.kt)("inlineCode",{parentName:"td"},"{ title, value }")," objects)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"allow_any")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Allow free-text input in addition to options")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"allow_extra_options")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Allow users to enter values not in the options list")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"disable_case_sensitive")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Case-insensitive matching of values against options")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'["Solar", "Wind"]\n')),(0,l.kt)("h3",{id:"checkbox"},"Checkbox"),(0,l.kt)("p",null,"Multiple selection rendered as checkboxes. Same schema and value structure as ",(0,l.kt)("inlineCode",{parentName:"p"},"multiselect"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "checkbox",\n  "name": "features",\n  "label": "Features",\n  "options": ["Wifi", "Parking", "Pool"]\n}\n')),(0,l.kt)("h3",{id:"status"},"Status"),(0,l.kt)("p",null,"A dropdown with color-coded status options. Commonly used for entity lifecycle states."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "status",\n  "name": "status",\n  "label": "Status",\n  "options": [\n    { "value": "draft", "title": "Draft" },\n    { "value": "active", "title": "Active" },\n    { "value": "closed", "title": "Closed" }\n  ]\n}\n')),(0,l.kt)("h3",{id:"tags"},"Tags"),(0,l.kt)("p",null,"A freeform tags input. Optionally provide predefined options or suggestions."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "tags",\n  "name": "labels",\n  "label": "Labels",\n  "options": ["important", "follow-up", "archived"],\n  "suggestions": ["vip", "partner"]\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"options")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string[]")),(0,l.kt)("td",{parentName:"tr",align:null},"Predefined tag options shown in the picker")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"suggestions")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string[]")),(0,l.kt)("td",{parentName:"tr",align:null},"Suggested tags shown as autocomplete hints")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'["important", "follow-up"]\n')),(0,l.kt)("h3",{id:"country"},"Country"),(0,l.kt)("p",null,"A country picker using ISO 3166-1 alpha-2 codes."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "country",\n  "name": "country",\n  "label": "Country"\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'"DE"\n')),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"contact-types"},"Contact Types"),(0,l.kt)("h3",{id:"email"},"Email"),(0,l.kt)("p",null,"An email address field. Typically repeatable with tags for categorization (e.g. work, personal)."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "email",\n  "name": "email",\n  "label": "Email",\n  "repeatable": true,\n  "has_primary": true\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value (repeatable)"',title:'"Stored',value:!0,'(repeatable)"':!0},'[\n  { "_id": "abc123", "_tags": ["primary", "work"], "email": "work@example.com" },\n  { "_id": "def456", "_tags": ["personal"], "email": "personal@example.com" }\n]\n')),(0,l.kt)("h3",{id:"phone"},"Phone"),(0,l.kt)("p",null,"A phone number field. Typically repeatable with tags for mobile, home, work, etc."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "phone",\n  "name": "phone",\n  "label": "Phone",\n  "repeatable": true,\n  "has_primary": true\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value (repeatable)"',title:'"Stored',value:!0,'(repeatable)"':!0},'[\n  { "_id": "abc123", "_tags": ["mobile"], "phone": "+491234567890" }\n]\n')),(0,l.kt)("h3",{id:"address"},"Address"),(0,l.kt)("p",null,"A structured address with multiple sub-fields. Usually repeatable with tags like ",(0,l.kt)("inlineCode",{parentName:"p"},"billing"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"shipping"),", or ",(0,l.kt)("inlineCode",{parentName:"p"},"home"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "address",\n  "name": "address",\n  "label": "Address",\n  "repeatable": true,\n  "has_primary": true,\n  "default_address_fields": [\n    "street", "street_number", "postal_code", "city", "country"\n  ]\n}\n')),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"default_address_fields")," array controls which sub-fields are visible by default. If omitted, the default fields are ",(0,l.kt)("inlineCode",{parentName:"p"},"street"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"street_number"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"postal_code"),", and ",(0,l.kt)("inlineCode",{parentName:"p"},"city"),"."),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Stored value example (repeatable)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "_id": "addr1",\n    "_tags": ["billing"],\n    "salutation": "Mr.",\n    "title": "Prof. Dr.",\n    "first_name": "John",\n    "last_name": "Doe",\n    "company_name": "epilot GmbH",\n    "street": "Hauptstrasse",\n    "street_number": "123",\n    "postal_code": "50668",\n    "city": "Cologne",\n    "country": "DE",\n    "additional_info": "2nd floor",\n    "suburb": "Altstadt",\n    "plot_of_land": "1",\n    "plot_area": "A",\n    "coordinates": "50.9375,6.9603"\n  }\n]\n'))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Available address fields:")," ",(0,l.kt)("inlineCode",{parentName:"p"},"salutation"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"title"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"first_name"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"last_name"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"company_name"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"street"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"street_number"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"postal_code"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"city"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"country"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"additional_info"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"suburb"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"plot_of_land"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"plot_area"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"postbox"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"coordinates"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"start_date"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"end_date"),"."),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"financial-types"},"Financial Types"),(0,l.kt)("h3",{id:"currency"},"Currency"),(0,l.kt)("p",null,"A monetary amount stored as an integer (cents) with a separate currency code and decimal representation."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "currency",\n  "name": "total_price",\n  "label": "Total Price",\n  "currency": [\n    { "code": "EUR", "description": "Euro", "symbol": "\\u20ac" }\n  ]\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"currency")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"array")),(0,l.kt)("td",{parentName:"tr",align:null},"Available currency options (required). Each entry has ",(0,l.kt)("inlineCode",{parentName:"td"},"code")," (ISO 4217), ",(0,l.kt)("inlineCode",{parentName:"td"},"description"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"symbol"),", and optional ",(0,l.kt)("inlineCode",{parentName:"td"},"flag"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"currency_selector_only")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"When ",(0,l.kt)("inlineCode",{parentName:"td"},"true"),", only shows the currency picker without an amount input (default: ",(0,l.kt)("inlineCode",{parentName:"td"},"false"),")")))),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Currency attributes generate ",(0,l.kt)("strong",{parentName:"p"},"three sibling fields")," on the entity. When reading entity data via the API, use the ",(0,l.kt)("inlineCode",{parentName:"p"},"_decimal")," field for display and the base field (integer cents) for calculations."))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field"),(0,l.kt)("th",{parentName:"tr",align:null},"JSON Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"total_price")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"number")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"12350")),(0,l.kt)("td",{parentName:"tr",align:null},"Integer amount in minor units (cents)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"total_price_currency")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"EUR"')),(0,l.kt)("td",{parentName:"tr",align:null},"ISO 4217 currency code")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"total_price_decimal")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"123.50"')),(0,l.kt)("td",{parentName:"tr",align:null},"Human-readable decimal string")))),(0,l.kt)("h3",{id:"payment"},"Payment"),(0,l.kt)("p",null,"A payment method field supporting SEPA, invoice, and cash types. Typically repeatable."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "payment",\n  "name": "payment",\n  "label": "Payment Method",\n  "repeatable": true\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Payment types:")," ",(0,l.kt)("inlineCode",{parentName:"p"},"payment_sepa"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"payment_invoice"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"payment_cash"),"."),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Stored value example (repeatable)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "_id": "pay1",\n    "_tags": ["primary"],\n    "type": "payment_sepa",\n    "data": {\n      "bank_name": "Deutsche Bank",\n      "iban": "DE89370400440532013000",\n      "bic_number": "DEUTDEFF",\n      "fullname": "John Doe"\n    }\n  },\n  {\n    "_id": "pay2",\n    "_tags": [],\n    "type": "payment_invoice"\n  }\n]\n'))),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"relation-types"},"Relation Types"),(0,l.kt)("p",null,"Relations link entities together. See ",(0,l.kt)("a",{parentName:"p",href:"/docs/entities/relations"},"Relations")," for a full guide."),(0,l.kt)("h3",{id:"relation"},"Relation"),(0,l.kt)("p",null,"A link to one or more entities. The core building block of the epilot data model."),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Relations are always stored as arrays via the ",(0,l.kt)("inlineCode",{parentName:"p"},"$relation")," wrapper, regardless of whether ",(0,l.kt)("inlineCode",{parentName:"p"},"relation_type")," is ",(0,l.kt)("inlineCode",{parentName:"p"},'"has_one"')," or ",(0,l.kt)("inlineCode",{parentName:"p"},'"has_many"'),"."))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "relation",\n  "name": "contacts",\n  "label": "Contacts",\n  "relation_type": "has_many",\n  "allowedSchemas": ["contact"],\n  "enable_relation_picker": true,\n  "enable_relation_tags": true,\n  "summary_fields": ["email", "phone"],\n  "reverse_attributes": {\n    "contact": "account"\n  },\n  "actions": [\n    { "action_type": "add_existing", "label": "Add Existing", "default": true },\n    { "action_type": "create_new", "label": "Create New" }\n  ]\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"relation_type")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"has_many"')," or ",(0,l.kt)("inlineCode",{parentName:"td"},'"has_one"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"allowedSchemas")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string[]")),(0,l.kt)("td",{parentName:"tr",align:null},"Which entity schemas can be linked")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"enable_relation_picker")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Show entity search picker (default: ",(0,l.kt)("inlineCode",{parentName:"td"},"true"),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"enable_relation_tags")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Allow tagging relations (default: ",(0,l.kt)("inlineCode",{parentName:"td"},"true"),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"summary_fields")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string[]")),(0,l.kt)("td",{parentName:"tr",align:null},"Fields to display in relation summary")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"reverse_attributes")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"object")),(0,l.kt)("td",{parentName:"tr",align:null},"Map of schema slug to reverse attribute name (e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},'{ "contact": "account" }'),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"relation_affinity_mode")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"weak"')," (kept on duplication) or ",(0,l.kt)("inlineCode",{parentName:"td"},'"strong"')," (discarded on duplication)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"actions")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"array")),(0,l.kt)("td",{parentName:"tr",align:null},"Available relation actions (see below)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"drawer_size")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Detail drawer width: ",(0,l.kt)("inlineCode",{parentName:"td"},'"small"'),", ",(0,l.kt)("inlineCode",{parentName:"td"},'"medium"'),", or ",(0,l.kt)("inlineCode",{parentName:"td"},'"large"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"details_view_mode_enabled")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Enable Master-Details view for inline preview, editing, and creation (default: ",(0,l.kt)("inlineCode",{parentName:"td"},"false"),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"edit_mode")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"list-view"')," for list-based editing")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"relation_picker_filter")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"object")),(0,l.kt)("td",{parentName:"tr",align:null},"Additional search filter for the picker, e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},'{ "q": "NOT is_composite_price:true" }'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"add_button_label")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Custom label for the add button")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"search_placeholder")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Custom placeholder text for the relation search input")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Action types:")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"th"},"action_type")),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"add_existing")),(0,l.kt)("td",{parentName:"tr",align:null},"Pick an existing entity to link")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"create_new")),(0,l.kt)("td",{parentName:"tr",align:null},"Create a new entity using the first ",(0,l.kt)("inlineCode",{parentName:"td"},"allowedSchemas")," schema")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"create_from_existing")),(0,l.kt)("td",{parentName:"tr",align:null},"Clone an existing entity to create a new linked entity")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'{\n  "$relation": [\n    { "entity_id": "uuid-1", "_tags": ["primary"] },\n    { "entity_id": "uuid-2", "_tags": [] }\n  ]\n}\n')),(0,l.kt)("h3",{id:"relation-user"},"Relation User"),(0,l.kt)("p",null,"A reference to epilot platform users (not entity contacts)."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "relation_user",\n  "name": "assignee",\n  "label": "Assignee"\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'[\n  {\n    "type": "user",\n    "user_id": "10010729",\n    "display_name": "Jane Smith",\n    "email": "jane@example.com",\n    "org_id": "739224"\n  }\n]\n')),(0,l.kt)("h3",{id:"relation-address"},"Relation Address"),(0,l.kt)("p",null,"A reference to an address attribute on a related entity, avoiding data duplication."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "relation_address",\n  "name": "billing_address",\n  "label": "Billing Address"\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'{\n  "$relation_ref": [\n    { "entity_id": "uuid-1", "path": "address", "_id": "addr1" }\n  ]\n}\n')),(0,l.kt)("h3",{id:"relation-payment-method"},"Relation Payment Method"),(0,l.kt)("p",null,"A reference to a payment method on a related entity."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "relation_payment_method",\n  "name": "payment_ref",\n  "label": "Payment Reference"\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'{\n  "$relation_ref": [\n    { "entity_id": "uuid-1", "path": "payment", "_id": "pay1" }\n  ]\n}\n')),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"file-types"},"File Types"),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"File and image attributes are ",(0,l.kt)("strong",{parentName:"p"},"relation attributes")," under the hood. They store ",(0,l.kt)("inlineCode",{parentName:"p"},"$relation")," arrays pointing to ",(0,l.kt)("inlineCode",{parentName:"p"},"file")," entities. The UI renders them with upload widgets and previews, but the underlying data model is identical to any other ",(0,l.kt)("a",{parentName:"p",href:"/docs/entities/relations"},"relation"),"."))),(0,l.kt)("p",null,"See ",(0,l.kt)("a",{parentName:"p",href:"/api/file"},"File API")," for upload and management."),(0,l.kt)("h3",{id:"file"},"File"),(0,l.kt)("p",null,"A file attachment (any type). Stored as a relation to a file entity."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "file",\n  "name": "documents",\n  "label": "Documents",\n  "multiple": true,\n  "allowed_extensions": ["pdf", "docx"],\n  "default_access_control": "private"\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"multiple")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Allow multiple files")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"allowed_extensions")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string[]")),(0,l.kt)("td",{parentName:"tr",align:null},"Restrict to specific file extensions (without dot, e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},'"csv"'),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"default_access_control")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"private"')," or ",(0,l.kt)("inlineCode",{parentName:"td"},'"public-read"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"display_images_landscaped")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Display uploaded images in landscape mode in the entity detail view")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"enable_description")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:null},"Show an i18n description alongside the attribute label. Set the description via platform locales as ",(0,l.kt)("inlineCode",{parentName:"td"},"file.{attribute_name}.description_text"))))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'{\n  "$relation": [\n    { "entity_id": "file-uuid-1", "_tags": [] },\n    { "entity_id": "file-uuid-2", "_tags": [] }\n  ]\n}\n')),(0,l.kt)("h3",{id:"image"},"Image"),(0,l.kt)("p",null,"An image attachment. Same schema as ",(0,l.kt)("inlineCode",{parentName:"p"},"file")," but with image-specific preview rendering. Supports the same properties as ",(0,l.kt)("inlineCode",{parentName:"p"},"file")," above."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "image",\n  "name": "photos",\n  "label": "Photos",\n  "multiple": true,\n  "display_images_landscaped": true\n}\n')),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"special-types"},"Special Types"),(0,l.kt)("h3",{id:"sequence"},"Sequence"),(0,l.kt)("p",null,"An auto-incrementing identifier with a configurable prefix. Commonly used for order numbers and ticket IDs."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "sequence",\n  "name": "order_number",\n  "label": "Order Number",\n  "prefix": "ORD-",\n  "start_number": 1000\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"prefix")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Text prepended to the number (e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},'"ORD-"'),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"start_number")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"integer")),(0,l.kt)("td",{parentName:"tr",align:null},"Initial sequence value")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'"ORD-1042"\n')),(0,l.kt)("h3",{id:"computed"},"Computed"),(0,l.kt)("p",null,"A read-only field whose value is derived from other attributes using a Handlebars template (value formatter)."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "computed",\n  "name": "total_display",\n  "label": "Total",\n  "value_formatter": "{{formatCurrencyAttribute entity attribute locale}}",\n  "amount_field": "amount_total",\n  "currency_field": "currency"\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"value_formatter")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Handlebars template for display value")))),(0,l.kt)("h3",{id:"consent"},"Consent"),(0,l.kt)("p",null,"Tracks GDPR consent with opt-in/opt-out events and audit trail."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "consent",\n  "name": "marketing_consent",\n  "label": "Marketing Consent",\n  "topic": "EMAIL_MARKETING",\n  "identifiers": ["email"]\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"topic")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"Required.")," The consent topic (e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},'"EMAIL_MARKETING"'),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"identifiers")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string[]")),(0,l.kt)("td",{parentName:"tr",align:null},"Entity attributes used as consent identifiers (e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},'["email"]'),")")))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Stored value example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "status": "active",\n  "identifiers": [\n    {\n      "identifier": "83573fb1-a945-44d6-82f8-8cc41183967c",\n      "status": "active",\n      "events": [\n        {\n          "type": "OPT_IN",\n          "identifier": "83573fb1-a945-44d6-82f8-8cc41183967c",\n          "topic": "EMAIL_MARKETING",\n          "organization_id": "739224",\n          "source": "https://portal.epilot.cloud",\n          "created_at": "2025-01-15T08:46:12.652Z"\n        }\n      ]\n    }\n  ]\n}\n'))),(0,l.kt)("p",null,"See ",(0,l.kt)("a",{parentName:"p",href:"/api/consent"},"Consent API")," for managing consent programmatically."),(0,l.kt)("h3",{id:"purpose"},"Purpose"),(0,l.kt)("p",null,"Links an entity to taxonomy purposes for classification. See ",(0,l.kt)("a",{parentName:"p",href:"/docs/entities/taxonomies"},"Taxonomies"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "purpose",\n  "name": "_purpose",\n  "label": "Purpose"\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'["purpose-uuid-1", "purpose-uuid-2"]\n')),(0,l.kt)("h3",{id:"ordered-list"},"Ordered List"),(0,l.kt)("p",null,"An ordered list of repeatable sub-items, where ordering is significant. Each item stores its value under the attribute name as key."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "ordered_list",\n  "name": "steps",\n  "label": "Steps"\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'[\n  { "_id": "id1", "_tags": [], "steps": "First step" },\n  { "_id": "id2", "_tags": [], "steps": "Second step" }\n]\n')),(0,l.kt)("h3",{id:"automation"},"Automation"),(0,l.kt)("p",null,"A reference to an automation flow. Used internally to link entities to triggered automations."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "automation",\n  "name": "automation_trigger",\n  "label": "Automation"\n}\n')),(0,l.kt)("h3",{id:"internal"},"Internal"),(0,l.kt)("p",null,"A hidden field with no UI representation. Used to store arbitrary JSON data programmatically."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "type": "internal",\n  "name": "metadata",\n  "label": "Metadata"\n}\n')),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"system-attribute-types"},"System Attribute Types"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Types used by platform features (not typically created manually)"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"internal_user")),(0,l.kt)("td",{parentName:"tr",align:null},"Internal epilot user information")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"invitation_email")),(0,l.kt)("td",{parentName:"tr",align:null},"Email address for partner invitations")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"partner_status")),(0,l.kt)("td",{parentName:"tr",align:null},"Partner relationship status")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"partner_organisation")),(0,l.kt)("td",{parentName:"tr",align:null},"Shared partner organization data")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"portal_access")),(0,l.kt)("td",{parentName:"tr",align:null},"Portal access configuration")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"price_component")),(0,l.kt)("td",{parentName:"tr",align:null},"Price component for product pricing"))))),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"repeatable-attributes"},"Repeatable Attributes"),(0,l.kt)("p",null,"Any attribute type can be made repeatable by setting ",(0,l.kt)("inlineCode",{parentName:"p"},'"repeatable": true'),". This transforms the stored value into an array of items, each with a unique ",(0,l.kt)("inlineCode",{parentName:"p"},"_id")," and optional ",(0,l.kt)("inlineCode",{parentName:"p"},"_tags"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Schema definition"',title:'"Schema','definition"':!0},'{\n  "name": "notes",\n  "label": "Notes",\n  "type": "string",\n  "multiline": true,\n  "repeatable": true,\n  "has_primary": true\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Stored value"',title:'"Stored','value"':!0},'[\n  { "_id": "abc123", "_tags": ["important"], "value": "First note" },\n  { "_id": "def456", "_tags": ["follow-up"], "value": "Second note" }\n]\n')),(0,l.kt)("p",null,"When ",(0,l.kt)("inlineCode",{parentName:"p"},"has_primary")," is set, one item can be marked as the primary entry using a ",(0,l.kt)("inlineCode",{parentName:"p"},'"primary"')," tag."),(0,l.kt)("p",null,"Built-in repeatable types like ",(0,l.kt)("inlineCode",{parentName:"p"},"email"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"phone"),", and ",(0,l.kt)("inlineCode",{parentName:"p"},"address")," store their value under a type-specific key (e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'"email"'),", ",(0,l.kt)("inlineCode",{parentName:"p"},'"phone"'),") rather than ",(0,l.kt)("inlineCode",{parentName:"p"},'"value"'),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Accessing items in templates:")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"entity.email.0.email")," -- first email address"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"entity.address.0.city")," -- city from first address")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"conditional-rendering"},"Conditional Rendering"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Expression-based attribute visibility"),(0,l.kt)("p",null,"Conditional rendering controls the visibility of attributes in the Entity Details view. Use ",(0,l.kt)("inlineCode",{parentName:"p"},"render_condition")," to hide or show attributes based on entity data."),(0,l.kt)("p",null,"An expression consists of three parts:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'<attribute_name> {operator} "<value>"\n')),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'type = "electric"\n')),(0,l.kt)("p",null,"Combine expressions with ",(0,l.kt)("inlineCode",{parentName:"p"},"AND")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"OR")," (but not both in one expression):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'type = "electric" AND is_rechargeable = "true"\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Supported operators:")," ",(0,l.kt)("inlineCode",{parentName:"p"},"="),", ",(0,l.kt)("inlineCode",{parentName:"p"},"!="),", ",(0,l.kt)("inlineCode",{parentName:"p"},">="),", ",(0,l.kt)("inlineCode",{parentName:"p"},"<="),", ",(0,l.kt)("inlineCode",{parentName:"p"},">"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"<")),(0,l.kt)("h3",{id:"where-render-conditions-apply"},"Where render conditions apply"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Entity List Item")," -- display summary attributes conditionally:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "ui_config": {\n    "list_item": {\n      "summary_attributes": [\n        {\n          "label": "Variability",\n          "value": "{{t \\"summary.Variable\\" }}",\n          "show_as_tag": true,\n          "tag_color": "secondary",\n          "render_condition": "is_composite_price = \\"false\\" & variable_price = \\"true\\""\n        }\n      ]\n    }\n  }\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Attributes on Entity Details view:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "price_components",\n  "label": "Price Component",\n  "type": "relation",\n  "show_in_table": true,\n  "render_condition": "is_composite_price = \\"true\\""\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Attribute Groups:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "Payment Information",\n  "label": "Payment Information",\n  "expanded": true,\n  "order": 20,\n  "render_condition": "is_composite_price = \\"false\\""\n}\n')),(0,l.kt)("p",null,"Expressions can access the full entity context -- all attributes of the current entity are available."),(0,l.kt)("h3",{id:"limitations"},"Limitations"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Value types:")," Only strings and numbers are supported. Object/array comparisons are not supported, but nested properties work: ",(0,l.kt)("inlineCode",{parentName:"li"},'price_components.value.$relation.length < "1"')),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Mixed operators:")," A composed expression can only use one type of logical operator (",(0,l.kt)("inlineCode",{parentName:"li"},"AND")," or ",(0,l.kt)("inlineCode",{parentName:"li"},"OR"),", not both)."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"No visual builder:")," Render conditions are configured by editing the schema JSON directly via the ",(0,l.kt)("a",{parentName:"li",href:"/api/entity/#tag/Schemas"},"Schema API"),"."))))}s.isMDXComponent=!0}}]);