"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[57510],{35722:(t,e,n)=>{n.d(e,{G:()=>p});var i=n(42858),a=n(67294),o=n(25108);let l=0,r=!1;const s=(t,e)=>{const n=t?.getAttribute("data-theme")??"light",i="dark"===n?"dark":"default";return e?.theme?.[n]??e?.mermaid?.theme??i},p=t=>{let{chart:e,config:n}=t;const p=(0,a.useRef)(null),c=(0,a.useRef)("mermaid-"+l++),[d,u]=(0,a.useState)(""),m=(0,a.useMemo)((()=>"string"==typeof n?JSON.parse(n):n),[n]);return(0,a.useEffect)((()=>{if("undefined"==typeof window)return;const t=document.querySelector("html"),n=s(t,m);r||(i.Z.initialize({startOnLoad:!1,theme:n,...m?.mermaid||{}}),r=!0);(async()=>{try{const{svg:t}=await i.Z.render(c.current,e);u(t)}catch(t){o.error("Mermaid rendering failed:",t)}})()}),[e,m]),(0,a.useEffect)((()=>{if("undefined"==typeof window)return;const t=document.querySelector("html"),n=new MutationObserver((n=>{for(const a of n){if("attributes"!==a.type||"data-theme"!==a.attributeName)continue;const n=s(t,m);r=!1,i.Z.initialize({startOnLoad:!1,theme:n,...m?.mermaid||{}}),r=!0,c.current="mermaid-"+l++,i.Z.render(c.current,e).then((t=>{let{svg:e}=t;u(e)}));break}}));return n.observe(t,{attributes:!0}),()=>n.disconnect()}),[e,m]),"undefined"==typeof window?a.createElement("div",{className:"mermaid"},e):a.createElement("div",{ref:p,dangerouslySetInnerHTML:{__html:d}})}},21848:(t,e,n)=>{n.r(e),n.d(e,{contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>s});var i=n(87462),a=(n(67294),n(3905));n(35722);const o={title:"App Surfaces",hide_title:!0,sidebar_position:2},l="App Surfaces",r={unversionedId:"apps/app-surfaces",id:"apps/app-surfaces",title:"App Surfaces",description:"App Surfaces are specific locations within the epilot platform where your custom app can be embedded. Each surface type provides a different context and set of capabilities, allowing you to extend epilot's functionality in targeted ways.",source:"@site/docs/apps/app-surfaces.md",sourceDirName:"apps",slug:"/apps/app-surfaces",permalink:"/docs/apps/app-surfaces",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/apps/app-surfaces.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"App Surfaces",hide_title:!0,sidebar_position:2},sidebar:"docsSidebar",previous:{title:"Overview",permalink:"/docs/apps"},next:{title:"Overview",permalink:"/docs/apps/about-apps/components/overview"}},s=[{value:"Overview",id:"overview",children:[],level:2},{value:"Available Surface Types",id:"available-surface-types",children:[{value:"Entity Capability",id:"entity-capability",children:[],level:3},{value:"Entity Tab",id:"entity-tab",children:[],level:3},{value:"Flow Action Config",id:"flow-action-config",children:[],level:3}],level:2},{value:"Getting Started with App Bridge",id:"getting-started-with-app-bridge",children:[{value:"Basic Initialization",id:"basic-initialization",children:[],level:3},{value:"Initialization Options",id:"initialization-options",children:[],level:3}],level:2},{value:"Entity Surface Implementation",id:"entity-surface-implementation",children:[{value:"Getting Entity Context",id:"getting-entity-context",children:[],level:3},{value:"Dynamic Content Height",id:"dynamic-content-height",children:[],level:3},{value:"Handling Tab Visibility",id:"handling-tab-visibility",children:[],level:3}],level:2},{value:"Action Config Implementation",id:"action-config-implementation",children:[{value:"Reading Action Configuration",id:"reading-action-configuration",children:[],level:3},{value:"Updating Action Configuration",id:"updating-action-configuration",children:[],level:3},{value:"Async Actions with Callbacks",id:"async-actions-with-callbacks",children:[],level:3}],level:2},{value:"Authorizing API Clients",id:"authorizing-api-clients",children:[],level:2},{value:"Custom Events",id:"custom-events",children:[{value:"Sending Events",id:"sending-events",children:[],level:3},{value:"Receiving Events",id:"receiving-events",children:[],level:3},{value:"Wildcard Subscriptions",id:"wildcard-subscriptions",children:[],level:3}],level:2},{value:"Error Handling",id:"error-handling",children:[],level:2},{value:"Complete Examples",id:"complete-examples",children:[{value:"Entity Capability App",id:"entity-capability-app",children:[],level:3},{value:"Entity Tab with Visibility Handling",id:"entity-tab-with-visibility-handling",children:[],level:3},{value:"Automation Action Configuration",id:"automation-action-configuration",children:[],level:3}],level:2},{value:"API Reference",id:"api-reference",children:[{value:"Session Management",id:"session-management",children:[],level:3},{value:"Entity Surface API",id:"entity-surface-api",children:[],level:3},{value:"Action Config API",id:"action-config-api",children:[],level:3},{value:"Generic Event API",id:"generic-event-api",children:[],level:3},{value:"Utilities",id:"utilities",children:[],level:3},{value:"Types",id:"types",children:[],level:3},{value:"Error Types",id:"error-types",children:[],level:3}],level:2},{value:"Best Practices",id:"best-practices",children:[],level:2}],p={toc:s},c="wrapper";function d(t){let{components:e,...n}=t;return(0,a.kt)(c,(0,i.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"app-surfaces"},"App Surfaces"),(0,a.kt)("p",null,"App Surfaces are specific locations within the epilot platform where your custom app can be embedded. Each surface type provides a different context and set of capabilities, allowing you to extend epilot's functionality in targeted ways."),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,"When you build an app for epilot, it runs inside an iframe embedded within the epilot XRM. The ",(0,a.kt)("inlineCode",{parentName:"p"},"@epilot/app-bridge")," library enables communication between your app and the parent epilot application, providing:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Authentication")," - OAuth tokens for epilot API calls"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Localization")," - Access to the user's language preference"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Context")," - Entity or action configuration data"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Messaging")," - Two-way communication with the parent app")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Install the App Bridge"',title:'"Install',the:!0,App:!0,'Bridge"':!0},"npm install @epilot/app-bridge\n")),(0,a.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Use the epilot component library")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"When building UI surfaces for epilot, use the ",(0,a.kt)("a",{parentName:"p",href:"/docs/architecture/design-system"},(0,a.kt)("inlineCode",{parentName:"a"},"@epilot/volt-ui"))," component library to ensure a consistent look and feel with the rest of the epilot platform."),(0,a.kt)("pre",{parentName:"div"},(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @epilot/volt-ui\n")))),(0,a.kt)("h2",{id:"available-surface-types"},"Available Surface Types"),(0,a.kt)("h3",{id:"entity-capability"},"Entity Capability"),(0,a.kt)("p",null,"A collapsible section within an entity detail view. Use this surface to display entity-specific data, metrics, or custom UI elements directly on the entity page."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Entity: Contact - John Doe          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u25bc Overview                          \u2502\n\u2502   Name: John Doe                    \u2502\n\u2502   Email: john@example.com           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u25bc Your App Capability \u2190 Your App    \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502   \u2502   Custom content here       \u2502   \u2502\n\u2502   \u2502   (iframe)                  \u2502   \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Use cases:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Display external data related to an entity"),(0,a.kt)("li",{parentName:"ul"},"Show metrics or analytics"),(0,a.kt)("li",{parentName:"ul"},"Provide quick actions or tools"),(0,a.kt)("li",{parentName:"ul"},"Integrate third-party services")),(0,a.kt)("h3",{id:"entity-tab"},"Entity Tab"),(0,a.kt)("p",null,"A dedicated tab within the entity detail view. Tabs provide more space than capabilities and are ideal for comprehensive features that require a full-page layout."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Entity: Contact - John Doe          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Overview \u2502 History \u2502 Your Tab \u2190     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502                                 \u2502 \u2502\n\u2502 \u2502   Your full-page content        \u2502 \u2502\n\u2502 \u2502   (iframe)                      \u2502 \u2502\n\u2502 \u2502                                 \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Use cases:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Complex data visualizations"),(0,a.kt)("li",{parentName:"ul"},"Full-featured integrations"),(0,a.kt)("li",{parentName:"ul"},"Document management"),(0,a.kt)("li",{parentName:"ul"},"Detailed analytics dashboards")),(0,a.kt)("h3",{id:"flow-action-config"},"Flow Action Config"),(0,a.kt)("p",null,"Configuration UI for custom automation actions. When users add your custom action to an automation workflow, this surface displays your configuration interface."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Automation: New Order Processing    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Trigger: Order Created              \u2502\n\u2502           \u2193                         \u2502\n\u2502 Action: Your Custom Action          \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Configuration:                  \u2502 \u2502\n\u2502 \u2502 Webhook URL: [____________]     \u2502 \u2502\n\u2502 \u2502 Enable: [\u2713]                     \u2502 \u2502\n\u2502 \u2502 (iframe)                        \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502           \u2193                         \u2502\n\u2502 Action: Send Email                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Use cases:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Configure webhook endpoints"),(0,a.kt)("li",{parentName:"ul"},"Set up third-party service credentials"),(0,a.kt)("li",{parentName:"ul"},"Define action parameters"),(0,a.kt)("li",{parentName:"ul"},"Map data fields")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"getting-started-with-app-bridge"},"Getting Started with App Bridge"),(0,a.kt)("h3",{id:"basic-initialization"},"Basic Initialization"),(0,a.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Every app ",(0,a.kt)("strong",{parentName:"p"},"must")," call ",(0,a.kt)("inlineCode",{parentName:"p"},"initialize()")," before using any other app-bridge functions. This establishes the communication channel with the parent epilot application."))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Basic initialization"',title:'"Basic','initialization"':!0},"import { initialize } from '@epilot/app-bridge';\n\nasync function main() {\n  // Initialize and get authentication data\n  const { token, lang } = await initialize();\n\n  // token: OAuth access token for epilot APIs\n  // lang: User's language preference ('en', 'de', etc.)\n\n  console.log('App initialized with language:', lang);\n}\n\nmain().catch(console.error);\n")),(0,a.kt)("h3",{id:"initialization-options"},"Initialization Options"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Initialization with options"',title:'"Initialization',with:!0,'options"':!0},"const session = await initialize({\n  contentHeight: 400,    // Initial iframe height in pixels\n  timeout: 5000,         // Timeout in milliseconds (default: 5000)\n});\n")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"entity-surface-implementation"},"Entity Surface Implementation"),(0,a.kt)("p",null,"For both Entity Capability and Entity Tab surfaces, use the entity-related APIs."),(0,a.kt)("h3",{id:"getting-entity-context"},"Getting Entity Context"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Getting entity context"',title:'"Getting',entity:!0,'context"':!0},"import { initialize, getEntityContext } from '@epilot/app-bridge';\n\nasync function main() {\n  const { token, lang } = await initialize();\n\n  // Get the entity being viewed\n  const context = await getEntityContext();\n\n  console.log('Entity ID:', context.entityId);\n  console.log('Schema:', context.schema);        // e.g., 'contact', 'order'\n  console.log('Capability:', context.capability); // Your app's capability config\n}\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Context Parameters:")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,a.kt)("th",{parentName:"tr",align:null},"Type"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"entityId")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"string")),(0,a.kt)("td",{parentName:"tr",align:null},"UUID of the entity being viewed")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"schema")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"string")),(0,a.kt)("td",{parentName:"tr",align:null},"Entity schema slug (e.g., ",(0,a.kt)("inlineCode",{parentName:"td"},"'contact'"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"'order'"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"'opportunity'"),")")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"capability")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"EntityCapability")),(0,a.kt)("td",{parentName:"tr",align:null},"Capability configuration from your app manifest")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"isVisible")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"boolean")),(0,a.kt)("td",{parentName:"tr",align:null},"Whether the tab/capability is currently visible (tabs only)")))),(0,a.kt)("h3",{id:"dynamic-content-height"},"Dynamic Content Height"),(0,a.kt)("p",null,"Since your app runs in an iframe, you need to communicate your content height to epilot so it can adjust the iframe size appropriately."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Report content height"',title:'"Report',content:!0,'height"':!0},"import { initialize, updateContentHeight } from '@epilot/app-bridge';\n\nasync function main() {\n  await initialize();\n\n  // After rendering your content\n  renderContent();\n\n  // Report the content height\n  updateContentHeight(document.body.scrollHeight);\n}\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"For dynamic content, use ResizeObserver:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Auto-update height with ResizeObserver"',title:'"Auto-update',height:!0,with:!0,'ResizeObserver"':!0},"import { initialize, updateContentHeight } from '@epilot/app-bridge';\n\nasync function main() {\n  await initialize();\n\n  const container = document.getElementById('app');\n\n  // Automatically update height when content changes\n  const observer = new ResizeObserver((entries) => {\n    const height = entries[0].contentRect.height;\n    updateContentHeight(height);\n  });\n\n  observer.observe(container);\n}\n")),(0,a.kt)("h3",{id:"handling-tab-visibility"},"Handling Tab Visibility"),(0,a.kt)("p",null,"For Entity Tab surfaces, the tab may be hidden when the user switches to another tab. Handle visibility changes to optimize performance:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Handle tab visibility changes"',title:'"Handle',tab:!0,visibility:!0,'changes"':!0},"import {\n  initialize,\n  getEntityContext,\n  onVisibilityChange\n} from '@epilot/app-bridge';\n\nasync function main() {\n  await initialize();\n\n  const { entityId, schema, isVisible } = await getEntityContext();\n\n  // Initial load only if visible\n  if (isVisible) {\n    await loadData(entityId, schema);\n  }\n\n  // Subscribe to visibility changes\n  const unsubscribe = onVisibilityChange((visible) => {\n    if (visible) {\n      // Tab became visible - refresh data\n      refreshData();\n    }\n  });\n\n  // Clean up when your app unmounts\n  // unsubscribe();\n}\n")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"action-config-implementation"},"Action Config Implementation"),(0,a.kt)("p",null,"For Flow Action Config surfaces, use the action configuration APIs."),(0,a.kt)("h3",{id:"reading-action-configuration"},"Reading Action Configuration"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Read action config"',title:'"Read',action:!0,'config"':!0},"import { initialize, getActionConfig } from '@epilot/app-bridge';\n\n// Define your configuration type\ninterface WebhookConfig {\n  url: string;\n  headers: Record<string, string>;\n  enabled: boolean;\n}\n\nasync function main() {\n  await initialize();\n\n  // Get existing configuration\n  const config = await getActionConfig<WebhookConfig>();\n\n  // Access your custom config\n  const webhookUrl = config.custom_action_config?.url ?? '';\n  const isEnabled = config.custom_action_config?.enabled ?? false;\n\n  // Render your configuration form\n  renderForm({ webhookUrl, isEnabled });\n}\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Config Parameters:")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,a.kt)("th",{parentName:"tr",align:null},"Type"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"custom_action_config")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"T")),(0,a.kt)("td",{parentName:"tr",align:null},"Your custom configuration object")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"description")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"string?")),(0,a.kt)("td",{parentName:"tr",align:null},"Action description shown in the UI")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"app_id")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"string?")),(0,a.kt)("td",{parentName:"tr",align:null},"Associated app ID")))),(0,a.kt)("h3",{id:"updating-action-configuration"},"Updating Action Configuration"),(0,a.kt)("p",null,"When the user changes configuration in your UI, update it immediately:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Update action config on change"',title:'"Update',action:!0,config:!0,on:!0,'change"':!0},"import { initialize, getActionConfig, updateActionConfig } from '@epilot/app-bridge';\n\ninterface WebhookConfig {\n  url: string;\n  enabled: boolean;\n}\n\nasync function main() {\n  await initialize();\n\n  const { custom_action_config } = await getActionConfig<WebhookConfig>();\n\n  // Set up form with existing values\n  const urlInput = document.getElementById('webhook-url') as HTMLInputElement;\n  urlInput.value = custom_action_config?.url ?? '';\n\n  // Update config when user makes changes\n  urlInput.addEventListener('change', () => {\n    updateActionConfig<WebhookConfig>({\n      url: urlInput.value,\n      enabled: custom_action_config?.enabled ?? true,\n    });\n  });\n}\n")),(0,a.kt)("h3",{id:"async-actions-with-callbacks"},"Async Actions with Callbacks"),(0,a.kt)("p",null,"If your action performs asynchronous work and the automation should wait for it to complete, use ",(0,a.kt)("inlineCode",{parentName:"p"},"waitForCallback"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Enable async callback"',title:'"Enable',async:!0,'callback"':!0},"updateActionConfig(\n  { url: 'https://api.example.com/webhook' },\n  { waitForCallback: true }\n);\n")),(0,a.kt)("p",null,"When ",(0,a.kt)("inlineCode",{parentName:"p"},"waitForCallback")," is true, the automation engine will wait for your action to signal completion before proceeding to the next step."),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"authorizing-api-clients"},"Authorizing API Clients"),(0,a.kt)("p",null,"The app-bridge provides a convenient way to authorize epilot SDK clients:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Authorize SDK clients"',title:'"Authorize',SDK:!0,'clients"':!0},"import { getClient } from '@epilot/entity-client';\nimport { getClient as getFileClient } from '@epilot/file-client';\nimport { initialize, authorizeClient } from '@epilot/app-bridge';\n\nasync function main() {\n  const session = await initialize();\n\n  // Create clients\n  const entityClient = getClient();\n  const fileClient = getFileClient();\n\n  // Authorize with the session\n  authorizeClient(entityClient, session);\n  authorizeClient(fileClient, session);\n\n  // Now ready to make API calls\n  const entities = await entityClient.searchEntities({\n    schema: 'contact',\n    query: 'john',\n  });\n}\n")),(0,a.kt)("p",null,"You can also pass just the token string:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"authorizeClient(entityClient, session.token);\n")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"custom-events"},"Custom Events"),(0,a.kt)("p",null,"For advanced use cases, you can send and receive custom events:"),(0,a.kt)("h3",{id:"sending-events"},"Sending Events"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import { send } from '@epilot/app-bridge';\n\n// Send a custom event to the parent\nsend('my-custom-event', {\n  action: 'refresh',\n  data: { key: 'value' },\n});\n")),(0,a.kt)("h3",{id:"receiving-events"},"Receiving Events"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import { on } from '@epilot/app-bridge';\n\n// Listen for custom events\nconst unsubscribe = on<{ action: string }>('parent-event', (data) => {\n  console.log('Received action:', data.action);\n});\n\n// Cleanup when done\nunsubscribe();\n")),(0,a.kt)("h3",{id:"wildcard-subscriptions"},"Wildcard Subscriptions"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"// Listen to all events\non('*', (data) => {\n  console.log('Event received:', data);\n});\n\n// Listen to events with a prefix\non('custom-*', (data) => {\n  console.log('Custom event:', data);\n});\n")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"error-handling"},"Error Handling"),(0,a.kt)("p",null,"The app-bridge provides specific error types for better error handling:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import {\n  initialize,\n  getSession,\n  AppBridgeTimeoutError,\n  AppBridgeNotInitializedError,\n} from '@epilot/app-bridge';\n\n// Handle initialization timeout\ntry {\n  await initialize({ timeout: 3000 });\n} catch (error) {\n  if (error instanceof AppBridgeTimeoutError) {\n    console.error(`Initialization timed out after ${error.timeout}ms`);\n    showError('Failed to connect to epilot. Please refresh the page.');\n  }\n}\n\n// Handle not initialized error\ntry {\n  const session = getSession();\n} catch (error) {\n  if (error instanceof AppBridgeNotInitializedError) {\n    // App bridge not initialized yet\n    await initialize();\n  }\n}\n")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"complete-examples"},"Complete Examples"),(0,a.kt)("h3",{id:"entity-capability-app"},"Entity Capability App"),(0,a.kt)("p",null,"A complete example of an app that displays external CRM data for a contact:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Entity Capability - CRM integration example"',title:'"Entity',Capability:!0,"-":!0,CRM:!0,integration:!0,'example"':!0},"import {\n  initialize,\n  getEntityContext,\n  updateContentHeight,\n  authorizeClient,\n} from '@epilot/app-bridge';\nimport { getClient } from '@epilot/entity-client';\n\ninterface ExternalCRMData {\n  score: number;\n  lastContact: string;\n  notes: string[];\n}\n\nasync function main() {\n  // 1. Initialize app bridge\n  const { token, lang } = await initialize();\n\n  // 2. Set up API client\n  const entityClient = getClient();\n  authorizeClient(entityClient, token);\n\n  // 3. Set language\n  document.documentElement.lang = lang;\n\n  // 4. Get entity context\n  const { entityId, schema } = await getEntityContext();\n\n  // 5. Fetch entity data\n  const entity = await entityClient.getEntity({ slug: schema, id: entityId });\n\n  // 6. Fetch external CRM data (your API)\n  const externalData = await fetchExternalCRM(entity.data.email);\n\n  // 7. Render UI\n  renderCRMWidget(externalData);\n\n  // 8. Update content height\n  const observer = new ResizeObserver((entries) => {\n    updateContentHeight(entries[0].contentRect.height);\n  });\n  observer.observe(document.getElementById('app')!);\n}\n\nfunction renderCRMWidget(data: ExternalCRMData) {\n  const app = document.getElementById('app')!;\n  app.innerHTML = `\n    <div class=\"crm-widget\">\n      <div class=\"score\">Score: ${data.score}</div>\n      <div class=\"last-contact\">Last Contact: ${data.lastContact}</div>\n      <div class=\"notes\">\n        ${data.notes.map(note => `<p>${note}</p>`).join('')}\n      </div>\n    </div>\n  `;\n}\n\nasync function fetchExternalCRM(email: string): Promise<ExternalCRMData> {\n  const response = await fetch(`https://api.mycrm.com/lookup?email=${email}`);\n  return response.json();\n}\n\nmain().catch(console.error);\n")),(0,a.kt)("h3",{id:"entity-tab-with-visibility-handling"},"Entity Tab with Visibility Handling"),(0,a.kt)("p",null,"An app that displays a dashboard, refreshing data when the tab becomes visible:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Entity Tab - Dashboard with visibility handling"',title:'"Entity',Tab:!0,"-":!0,Dashboard:!0,with:!0,visibility:!0,'handling"':!0},"import {\n  initialize,\n  getEntityContext,\n  onVisibilityChange,\n  updateContentHeight,\n} from '@epilot/app-bridge';\n\nasync function main() {\n  const { token, lang } = await initialize();\n  const { entityId, schema, isVisible } = await getEntityContext();\n\n  // Initial setup\n  await setupDashboard(entityId, schema);\n\n  // Load data if tab is already visible\n  if (isVisible) {\n    await loadDashboardData(entityId);\n  }\n\n  // Refresh data when tab becomes visible\n  onVisibilityChange(async (visible) => {\n    if (visible) {\n      await loadDashboardData(entityId);\n    }\n  });\n\n  // Update height\n  updateContentHeight(document.body.scrollHeight);\n}\n\nasync function setupDashboard(entityId: string, schema: string) {\n  // Initialize dashboard UI\n}\n\nasync function loadDashboardData(entityId: string) {\n  // Fetch and render dashboard data\n}\n\nmain().catch(console.error);\n")),(0,a.kt)("h3",{id:"automation-action-configuration"},"Automation Action Configuration"),(0,a.kt)("p",null,"A complete configuration UI for a webhook action:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Flow Action Config - Webhook configuration UI"',title:'"Flow',Action:!0,Config:!0,"-":!0,Webhook:!0,configuration:!0,'UI"':!0},"import {\n  initialize,\n  getActionConfig,\n  updateActionConfig,\n  updateContentHeight,\n} from '@epilot/app-bridge';\n\ninterface WebhookActionConfig {\n  url: string;\n  method: 'GET' | 'POST' | 'PUT';\n  headers: Record<string, string>;\n  retryCount: number;\n}\n\nasync function main() {\n  await initialize();\n\n  // Get existing configuration\n  const { custom_action_config } = await getActionConfig<WebhookActionConfig>();\n  const config = custom_action_config ?? {\n    url: '',\n    method: 'POST',\n    headers: {},\n    retryCount: 3,\n  };\n\n  // Render configuration form\n  renderForm(config);\n  updateContentHeight(document.body.scrollHeight);\n}\n\nfunction renderForm(config: WebhookActionConfig) {\n  const app = document.getElementById('app')!;\n  app.innerHTML = `\n    <form id=\"config-form\">\n      <div class=\"field\">\n        <label>Webhook URL</label>\n        <input type=\"url\" id=\"url\" value=\"${config.url}\" required />\n      </div>\n      <div class=\"field\">\n        <label>HTTP Method</label>\n        <select id=\"method\">\n          <option value=\"GET\" ${config.method === 'GET' ? 'selected' : ''}>GET</option>\n          <option value=\"POST\" ${config.method === 'POST' ? 'selected' : ''}>POST</option>\n          <option value=\"PUT\" ${config.method === 'PUT' ? 'selected' : ''}>PUT</option>\n        </select>\n      </div>\n      <div class=\"field\">\n        <label>Retry Count</label>\n        <input type=\"number\" id=\"retryCount\" value=\"${config.retryCount}\" min=\"0\" max=\"10\" />\n      </div>\n    </form>\n  `;\n\n  // Listen for changes\n  const form = document.getElementById('config-form')!;\n  form.addEventListener('change', () => {\n    const newConfig: WebhookActionConfig = {\n      url: (document.getElementById('url') as HTMLInputElement).value,\n      method: (document.getElementById('method') as HTMLSelectElement).value as 'GET' | 'POST' | 'PUT',\n      headers: config.headers,\n      retryCount: parseInt((document.getElementById('retryCount') as HTMLInputElement).value),\n    };\n    updateActionConfig(newConfig);\n  });\n}\n\nmain().catch(console.error);\n")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"api-reference"},"API Reference"),(0,a.kt)("h3",{id:"session-management"},"Session Management"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Function"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"initialize(options?)")),(0,a.kt)("td",{parentName:"tr",align:null},"Initialize app bridge and get auth token")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"getSession()")),(0,a.kt)("td",{parentName:"tr",align:null},"Get cached session (throws if not initialized)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"isInitialized()")),(0,a.kt)("td",{parentName:"tr",align:null},"Check if app bridge is initialized")))),(0,a.kt)("h3",{id:"entity-surface-api"},"Entity Surface API"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Function"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"getEntityContext(options?)")),(0,a.kt)("td",{parentName:"tr",align:null},"Get entity ID, schema, and capability info")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"updateContentHeight(height)")),(0,a.kt)("td",{parentName:"tr",align:null},"Update iframe height")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"onVisibilityChange(handler)")),(0,a.kt)("td",{parentName:"tr",align:null},"Subscribe to tab visibility changes")))),(0,a.kt)("h3",{id:"action-config-api"},"Action Config API"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Function"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"getActionConfig<T>(options?)")),(0,a.kt)("td",{parentName:"tr",align:null},"Get action configuration")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"updateActionConfig<T>(config, options?)")),(0,a.kt)("td",{parentName:"tr",align:null},"Update action configuration")))),(0,a.kt)("h3",{id:"generic-event-api"},"Generic Event API"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Function"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"on<T>(event, handler)")),(0,a.kt)("td",{parentName:"tr",align:null},"Subscribe to events (supports wildcards)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"send(event, data?)")),(0,a.kt)("td",{parentName:"tr",align:null},"Send custom messages")))),(0,a.kt)("h3",{id:"utilities"},"Utilities"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Function"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"authorizeClient(client, session)")),(0,a.kt)("td",{parentName:"tr",align:null},"Authorize epilot SDK clients")))),(0,a.kt)("h3",{id:"types"},"Types"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import type {\n  AppBridgeSession,    // { token: string; lang: string }\n  EntityContext,       // { entityId, schema, capability, isVisible }\n  EntityCapability,    // { name?, app_id?, ... }\n  ActionConfig<T>,     // { custom_action_config?, description?, app_id? }\n  InitOptions,         // { contentHeight?, timeout? }\n  UpdateConfigOptions, // { waitForCallback? }\n} from '@epilot/app-bridge';\n")),(0,a.kt)("h3",{id:"error-types"},"Error Types"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import {\n  AppBridgeError,              // Base error class\n  AppBridgeTimeoutError,       // Request timeout\n  AppBridgeNotInitializedError // Not initialized\n} from '@epilot/app-bridge';\n")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"best-practices"},"Best Practices"),(0,a.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Always wrap ",(0,a.kt)("inlineCode",{parentName:"p"},"initialize()")," in a try-catch block. If the app bridge fails to connect (e.g., the app is loaded outside of epilot), your app should display a user-friendly error message rather than silently failing."))),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Always initialize first")," - Call ",(0,a.kt)("inlineCode",{parentName:"li"},"initialize()")," before any other app-bridge functions"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Handle errors gracefully")," - Wrap initialization in try-catch and show user-friendly errors"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Update content height")," - Always report your content height, especially after rendering"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Use ResizeObserver")," - For dynamic content, observe size changes automatically"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Handle visibility")," - For tabs, pause expensive operations when not visible"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Type your configs")," - Use TypeScript generics for type-safe configuration"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Clean up subscriptions")," - Call unsubscribe functions when your app unmounts")))}d.isMDXComponent=!0}}]);