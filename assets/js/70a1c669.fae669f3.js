"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[44953],{11361:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(75773),a=i(63764),r=i(67294);const o="container_l7Gi",s="header_gesl",l="fileName_Z4_y",c="controls_GJcU",m="controlButton_JKKX",d="downloadButton_kTCR",p="editorWrapper_gwAd",u=e=>{let{data:t,fileName:i,downloadUrl:u,defaultFoldLevel:h=1}=e;const y=(0,r.useRef)(null),[g,f]=(0,r.useState)(!1),[k,E]=(0,r.useState)(!1),{colorMode:v}=(0,n.If)(),b=(0,r.useCallback)((()=>{y.current&&(f(!0),y.current.getAction("editor.unfoldAll").run(),setTimeout((()=>f(!1)),100))}),[]),w=(0,r.useCallback)((()=>{y.current&&(f(!0),y.current.getAction("editor.foldAll").run(),setTimeout((()=>{y.current.getModel()&&(y.current.setPosition({lineNumber:1,column:1}),y.current.getAction("editor.unfold").run()),f(!1)}),50))}),[]),x=(0,r.useCallback)((()=>{navigator.clipboard.writeText(t).then((()=>{E(!0),setTimeout((()=>E(!1)),2e3)}))}),[t]);return r.createElement("div",{className:o},r.createElement("div",{className:s},r.createElement("span",{className:l},i),r.createElement("div",{className:c},r.createElement("button",{type:"button",onClick:b,className:m,title:"Expand all",disabled:g},r.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},r.createElement("polyline",{points:"7 13 12 18 17 13"}),r.createElement("polyline",{points:"7 6 12 11 17 6"})),"Expand All"),r.createElement("button",{type:"button",onClick:w,className:m,title:"Collapse all",disabled:g},r.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},r.createElement("polyline",{points:"17 11 12 6 7 11"}),r.createElement("polyline",{points:"17 18 12 13 7 18"})),"Collapse All"),r.createElement("button",{type:"button",onClick:x,className:m,title:k?"Copied!":"Copy to clipboard"},k?r.createElement(r.Fragment,null,r.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},r.createElement("polyline",{points:"20 6 9 17 4 12"})),"Copied!"):r.createElement(r.Fragment,null,r.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},r.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),r.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})),"Copy")),r.createElement("a",{href:u,download:!0,className:d,title:"Download JSON"},r.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},r.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.createElement("polyline",{points:"7 10 12 15 17 10"}),r.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),"Download"))),r.createElement("div",{className:p},r.createElement(a.ZP,{height:"600px",defaultLanguage:"json",value:t,theme:"dark"===v?"vs-dark":"light",onMount:e=>{y.current=e,setTimeout((()=>{h===1/0?e.getAction("editor.unfoldAll").run():0===h?e.getAction("editor.foldAll").run():(e.getAction("editor.foldAll").run(),setTimeout((()=>{if(e.getModel()&&(e.setPosition({lineNumber:1,column:1}),e.getAction("editor.unfold").run(),h>1))for(let t=1;t<h;t++)e.trigger("fold","editor.unfoldRecursively",{})}),50))}),100)},options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"off",folding:!0,foldingStrategy:"indentation",renderLineHighlight:"none",scrollbar:{vertical:"auto",horizontal:"auto",useShadows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10},fontSize:13,fontFamily:getComputedStyle(document.documentElement).getPropertyValue("--ifm-font-family-monospace").trim()||"monospace",automaticLayout:!0}})))}},42799:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(23009),a=i(67294);const r=e=>a.createElement(n.EpilotIcon,e)},35722:(e,t,i)=>{i.d(t,{G:()=>c});var n=i(42858),a=i(67294),r=i(25108);let o=0,s=!1;const l=(e,t)=>{const i=e?.getAttribute("data-theme")??"light",n="dark"===i?"dark":"default";return t?.theme?.[i]??t?.mermaid?.theme??n},c=e=>{let{chart:t,config:i}=e;const c=(0,a.useRef)(null),m=(0,a.useRef)("mermaid-"+o++),[d,p]=(0,a.useState)(""),u=(0,a.useMemo)((()=>"string"==typeof i?JSON.parse(i):i),[i]);return(0,a.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),i=l(e,u);s||(n.Z.initialize({startOnLoad:!1,theme:i,...u?.mermaid||{}}),s=!0);(async()=>{try{const{svg:e}=await n.Z.render(m.current,t);p(e)}catch(e){r.error("Mermaid rendering failed:",e)}})()}),[t,u]),(0,a.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),i=new MutationObserver((i=>{for(const a of i){if("attributes"!==a.type||"data-theme"!==a.attributeName)continue;const i=l(e,u);s=!1,n.Z.initialize({startOnLoad:!1,theme:i,...u?.mermaid||{}}),s=!0,m.current="mermaid-"+o++,n.Z.render(m.current,t).then((e=>{let{svg:t}=e;p(t)}));break}}));return i.observe(e,{attributes:!0}),()=>i.disconnect()}),[t,u]),"undefined"==typeof window?a.createElement("div",{className:"mermaid"},t):a.createElement("div",{ref:c,dangerouslySetInnerHTML:{__html:d}})}},38431:(e,t,i)=>{i.r(t),i.d(t,{contentTitle:()=>y,default:()=>v,frontMatter:()=>h,metadata:()=>g,toc:()=>f});var n=i(87462),a=i(67294),r=i(3905),o=i(35722),s=i(23009),l=i(42799),c=i(81604),m=i(50967),d=i(11361),p=i(41288);const u=e=>{let{schema:t,displayName:i,description:n,apiLink:r}=e;const[o,u]=(0,a.useState)(""),[h,y]=(0,a.useState)(""),[g,f]=(0,a.useState)(null),[k,E]=(0,a.useState)("none"),[v,b]=(0,a.useState)(!1),[w,x]=(0,a.useState)(null),C=t in s.IconComponentsMap?t:"entity";return a.createElement("div",{id:t,className:`${p.Z.container} entitySchemaViewer`},a.createElement("div",{className:p.Z.header},a.createElement("div",{className:p.Z.titleRow},C&&a.createElement(l.Z,{name:C,size:24}),a.createElement("h4",{className:p.Z.entityTitle},i),a.createElement("a",{href:`#${t}`,className:p.Z.anchorLink,"aria-label":`Link to ${i}`},"#")),a.createElement("p",{className:p.Z.description},n),r&&a.createElement("div",{className:p.Z.apiLink},a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),a.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})),a.createElement("a",{href:r,className:p.Z.apiLinkText},"API Reference"))),a.createElement("div",{className:p.Z.controls},a.createElement("div",{className:p.Z.buttonGroup},a.createElement("button",{type:"button",onClick:async()=>{if("example"!==k)if(o)E("example");else{b(!0),x(null);try{const e=await fetch(`/schemas/${t}-example.json`);if(!e.ok)throw new Error("Failed to load example");const i=await e.json();u(JSON.stringify(i,null,2)),E("example")}catch(e){x(e.message)}finally{b(!1)}}else E("none")},className:`${p.Z.button} ${"example"===k?p.Z.buttonActive:""}`,disabled:v},a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true"},a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),a.createElement("polyline",{points:"14 2 14 8 20 8"})),"Sample"),a.createElement("button",{type:"button",onClick:async()=>{if("schema"!==k)if(h)E("schema");else{b(!0),x(null);try{const e=await fetch(`/schemas/${t}-jsonschema.json`);if(!e.ok)throw new Error("Failed to load schema");const i=await e.json();y(JSON.stringify(i,null,2)),f(i),E("schema")}catch(e){x(e.message)}finally{b(!1)}}else E("none")},className:`${p.Z.button} ${"schema"===k?p.Z.buttonActive:""}`,disabled:v},a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true"},a.createElement("polyline",{points:"16 18 22 12 16 6"}),a.createElement("polyline",{points:"8 6 2 12 8 18"})),"JSON Schema"),a.createElement("button",{type:"button",onClick:async()=>{if("visual"!==k)if(g)E("visual");else{b(!0),x(null);try{const e=await fetch(`/schemas/${t}-jsonschema.json`);if(!e.ok)throw new Error("Failed to load schema");const i=await e.json();f(i),h||y(JSON.stringify(i,null,2)),E("visual")}catch(e){x(e.message)}finally{b(!1)}}else E("none")},className:`${p.Z.button} ${"visual"===k?p.Z.buttonActive:""}`,disabled:v},a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true"},a.createElement("circle",{cx:"9",cy:"7",r:"1",fill:"currentColor"}),a.createElement("circle",{cx:"9",cy:"12",r:"1",fill:"currentColor"}),a.createElement("circle",{cx:"9",cy:"17",r:"1",fill:"currentColor"}),a.createElement("line",{x1:"13",y1:"7",x2:"21",y2:"7"}),a.createElement("line",{x1:"13",y1:"12",x2:"21",y2:"12"}),a.createElement("line",{x1:"13",y1:"17",x2:"21",y2:"17"})),"Fields"))),w&&a.createElement("div",{className:p.Z.error},a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("circle",{cx:"12",cy:"12",r:"10"}),a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),a.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})),w),"example"===k&&o&&a.createElement(d.Z,{data:o,fileName:`${t}-example.json`,downloadUrl:`/schemas/${t}-example.json`,defaultFoldLevel:1}),"schema"===k&&h&&a.createElement(d.Z,{data:h,fileName:`${t}-jsonschema.json`,downloadUrl:`/schemas/${t}-jsonschema.json`,defaultFoldLevel:1/0}),"visual"===k&&g&&a.createElement("div",{className:`stoplight-viewer ${p.Z.visualContainer}`},a.createElement(m.zt,null,a.createElement(c.KN,{schema:g,defaultExpandedDepth:2,skipTopLevelDescription:!0}))))},h={sidebar_position:1,title:"Core Entities"},y="Core Entities",g={unversionedId:"entities/core-entities",id:"entities/core-entities",title:"Core Entities",description:"epilot ships with a set of built-in entity schemas that model common business objects. This page lists all core schemas with their descriptions, relationship diagram, and links to API docs.",source:"@site/docs/entities/core-entities.md",sourceDirName:"entities",slug:"/entities/core-entities",permalink:"/docs/entities/core-entities",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/entities/core-entities.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Core Entities"},sidebar:"docsSidebar",previous:{title:"Flexible Entities",permalink:"/docs/entities/flexible-entities"},next:{title:"Attributes",permalink:"/docs/entities/attributes"}},f=[{value:"Relationship Diagram",id:"relationship-diagram",children:[],level:2},{value:"Built-in Entity Schemas",id:"built-in-entity-schemas",children:[{value:"Customer Relations",id:"customer-relations",children:[],level:3},{value:"Sales",id:"sales",children:[],level:3},{value:"Product Hub",id:"product-hub",children:[],level:3},{value:"Contracts &amp; Billing",id:"contracts--billing",children:[],level:3},{value:"Metering",id:"metering",children:[],level:3},{value:"Journeys",id:"journeys",children:[],level:3},{value:"Messaging",id:"messaging",children:[],level:3},{value:"Marketing &amp; Analytics",id:"marketing--analytics",children:[],level:3},{value:"System",id:"system",children:[],level:3}],level:2}],k={toc:f},E="wrapper";function v(e){let{components:t,...i}=e;return(0,r.kt)(E,(0,n.Z)({},k,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"core-entities"},"Core Entities"),(0,r.kt)("p",null,"epilot ships with a set of built-in entity schemas that model common business objects. This page lists all core schemas with their descriptions, relationship diagram, and links to API docs."),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"/api/changelog"},"API Changelog")," for recent changes to entities and APIs."),(0,r.kt)("h2",{id:"relationship-diagram"},"Relationship Diagram"),(0,r.kt)(o.G,{chart:"graph TB\n    %% Customer Relations\n    Account[Account]\n    Contact[Contact]\n\n    %% Sales\n    Opportunity[Opportunity]\n    Order[Order]\n\n    %% Products\n    Product[Product]\n    Price[Price]\n    Tax[Tax]\n\n    %% Contracts & Billing\n    Contract[Contract]\n    BillingAccount[Billing Account]\n    BillingEvent[Billing Event]\n\n    %% Metering\n    Meter[Meter]\n    MeterCounter[Meter Counter]\n\n    %% Sales Flow\n    Opportunity --\x3e|has many| Order\n\n    %% Customer Relations\n    Contact --\x3e|has many| Opportunity\n    Contact --\x3e|has many| Order\n    Contact --\x3e|has one| Account\n    Contact --\x3e|has many| Contract\n    Contact --\x3e|has many| Ticket\n    Contact --\x3e|has many| BillingAccount\n\n    Order --\x3e|has many| Product\n\n    %% Products\n    Product --\x3e|has many| Price\n    Price --\x3e|has one| Tax\n\n    %% Contracts & Billing\n    Contract --\x3e|has one| BillingAccount\n    Contract --\x3e|has one| Order\n    Contract --\x3e|has many| Meter\n\n    BillingAccount --\x3e|has many| BillingEvent\n\n    %% Metering\n    Meter --\x3e|has many| MeterCounter\n\n    style Account fill:#e1f5ff\n    style Contact fill:#e1f5ff\n\n    style Opportunity fill:#fff4e1\n    style Order fill:#fff4e1\n\n    style Product fill:#f0e1ff\n    style Price fill:#f0e1ff\n    style Tax fill:#f0e1ff\n\n    style Contract fill:#e1ffe1\n    style BillingAccount fill:#e1ffe1\n    style BillingEvent fill:#e1ffe1",mdxType:"Mermaid"}),(0,r.kt)("h2",{id:"built-in-entity-schemas"},"Built-in Entity Schemas"),(0,r.kt)("h3",{id:"customer-relations"},"Customer Relations"),(0,r.kt)(u,{schema:"contact",displayName:"Contact",description:"Contacts store details about customers or individuals managed by the epilot organization.",apiLink:"/api/customer#tag/contact_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"account",displayName:"Account",description:"Accounts store details about companies. Contacts can be linked to an account to represent a business customer.",apiLink:"/api/customer#tag/account_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"partner",displayName:"Partner",description:"Partners store details about collaborating third parties, such as installation partners, OEMs and other business partners.",apiLink:"/api/partner#tag/partner_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"ticket",displayName:"Ticket",description:"Tickets store customer support requests and help desk inquiries.",mdxType:"EntitySchemaViewer"}),(0,r.kt)("h3",{id:"sales"},"Sales"),(0,r.kt)(u,{schema:"opportunity",displayName:"Opportunity",description:"Opportunities store details about sales leads or product inquiries usually made through journeys.",apiLink:"/api/opportunity#tag/opportunity_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"order",displayName:"Order",description:"Orders store details about requested products, pricing and past orders placed by customers.",apiLink:"/api/order#tag/order_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)("h3",{id:"product-hub"},"Product Hub"),(0,r.kt)(u,{schema:"product",displayName:"Product",description:"Products represent services or products sold by the epilot organization.",apiLink:"/api/product#tag/product_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"price",displayName:"Price",description:"Prices configure the pricing models for products.",apiLink:"/api/product#tag/price_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"tax",displayName:"Tax",description:"Taxes represent the tax rates applied to prices.",apiLink:"/api/product#tag/tax_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"coupon",displayName:"Coupon",description:"Coupons represent discounts or promotions that can be applied to products.",apiLink:"/api/pricing#tag/coupon_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)("h3",{id:"contracts--billing"},"Contracts & Billing"),(0,r.kt)(u,{schema:"contract",displayName:"Contract",description:"Contracts store details about service agreements, tariffs and other agreements between customers and the epilot organization.",apiLink:"/api/billing#tag/contract_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"billing_account",displayName:"Billing Account",description:"Billing accounts store billing information and payment details for customers.",apiLink:"/api/billing#tag/billing_account_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"billing_event",displayName:"Billing Event",description:"Billing events store records of financial transactions, including payments, invoices, and credit notes.",apiLink:"/api/billing#tag/billing_event_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)("h3",{id:"metering"},"Metering"),(0,r.kt)(u,{schema:"meter",displayName:"Meter",description:"Meters store details about power, gas, water, or other devices used to meter consumption.",apiLink:"/api/metering#tag/meter_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"meter_counter",displayName:"Meter Counter",description:"Meter counters represent the counters used in meter devices, allowing separate tracking for different consumption types or purposes, such as peak and off-peak energy usage.",apiLink:"/api/metering#tag/meter_counter_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)("h3",{id:"journeys"},"Journeys"),(0,r.kt)(u,{schema:"journey",displayName:"Journey",description:"Journeys contain the configuration of a customer journey, which is used to collect data from customers.",apiLink:"/api/journey#tag/journey_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"submission",displayName:"Submission",description:"Submissions store raw data collected from Journeys or other outside data sources into epilot.",apiLink:"/api/submission#tag/submission_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)("h3",{id:"messaging"},"Messaging"),(0,r.kt)(u,{schema:"message",displayName:"Message",description:"Messages are email communications sent and received through the epilot platform.",apiLink:"/api/message#tag/message_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"email_template",displayName:"Email Template",description:"Email templates are used as templates containing variables for emails sent from epilot.",apiLink:"/api/email-template#tag/email_template_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)("h3",{id:"marketing--analytics"},"Marketing & Analytics"),(0,r.kt)(u,{schema:"campaign",displayName:"Campaign",description:"Campaigns store marketing campaign information and configurations.",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"target",displayName:"Target",description:"Targets represent goals or milestones for sales and marketing activities.",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"product_recommendation",displayName:"Product Recommendation",description:"Product recommendations suggest products to customers based on their preferences and behavior.",mdxType:"EntitySchemaViewer"}),(0,r.kt)("h3",{id:"system"},"System"),(0,r.kt)(u,{schema:"file",displayName:"File",description:"Files store details about documents, images, templates and other files uploaded to the epilot platform.",apiLink:"/api/file#tag/file_schema",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"comment",displayName:"Comment",description:"Comments allow users to add notes and have discussions across the platform.",apiLink:"/api/notes",mdxType:"EntitySchemaViewer"}),(0,r.kt)(u,{schema:"portal_user",displayName:"Portal User",description:"Portal users are users registered to use end customer portals or installer portals.",apiLink:"/api/customer-portal#tag/portal_user_schema",mdxType:"EntitySchemaViewer"}))}v.isMDXComponent=!0},41288:(e,t,i)=>{i.d(t,{Z:()=>n});const n={container:"container_Au8i",header:"header_KMaj",titleRow:"titleRow_CP53",tagContainer:"tagContainer_mOO0",tag:"tag_ey7J",entityTitle:"entityTitle_4lbs",anchorLink:"anchorLink_CQtf",eventName:"eventName_s79V",description:"description_wxvX",apiLink:"apiLink_WOq3",apiLinkText:"apiLinkText_OyUe",controls:"controls_melv",buttonGroup:"buttonGroup_RrKA",button:"button_VkD5",buttonActive:"buttonActive_U88G",codeHeader:"codeHeader_ei9M",codeTitle:"codeTitle_hGFQ",downloadButton:"downloadButton_pE08",error:"error_pP3b",codeContainer:"codeContainer_OL6j",slideDown:"slideDown_Ew55",visualContainer:"visualContainer_pcPv",downloadLink:"downloadLink_Y702",downloadGroup:"downloadGroup_RChU"}}}]);