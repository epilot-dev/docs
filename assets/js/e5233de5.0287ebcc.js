"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[24177],{35722:(e,t,n)=>{n.d(t,{G:()=>d});var a=n(42858),l=n(67294),i=n(25108);let r=0,o=!1;const s=(e,t)=>{const n=e?.getAttribute("data-theme")??"light",a="dark"===n?"dark":"default";return t?.theme?.[n]??t?.mermaid?.theme??a},d=e=>{let{chart:t,config:n}=e;const d=(0,l.useRef)(null),m=(0,l.useRef)("mermaid-"+r++),[u,p]=(0,l.useState)(""),c=(0,l.useMemo)((()=>"string"==typeof n?JSON.parse(n):n),[n]);return(0,l.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),n=s(e,c);o||(a.Z.initialize({startOnLoad:!1,theme:n,...c?.mermaid||{}}),o=!0);(async()=>{try{const{svg:e}=await a.Z.render(m.current,t);p(e)}catch(e){i.error("Mermaid rendering failed:",e)}})()}),[t,c]),(0,l.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),n=new MutationObserver((n=>{for(const l of n){if("attributes"!==l.type||"data-theme"!==l.attributeName)continue;const n=s(e,c);o=!1,a.Z.initialize({startOnLoad:!1,theme:n,...c?.mermaid||{}}),o=!0,m.current="mermaid-"+r++,a.Z.render(m.current,t).then((e=>{let{svg:t}=e;p(t)}));break}}));return n.observe(e,{attributes:!0}),()=>n.disconnect()}),[t,c]),"undefined"==typeof window?l.createElement("div",{className:"mermaid"},t):l.createElement("div",{ref:d,dangerouslySetInnerHTML:{__html:u}})}},54728:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var a=n(87462),l=(n(67294),n(3905));n(35722);const i={title:"Taxonomies",sidebar_label:"Taxonomies"},r="Taxonomies",o={unversionedId:"entities/taxonomies",id:"entities/taxonomies",title:"Taxonomies",description:"[API Docs]",source:"@site/docs/entities/taxonomies.md",sourceDirName:"entities",slug:"/entities/taxonomies",permalink:"/docs/entities/taxonomies",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/entities/taxonomies.md",tags:[],version:"current",frontMatter:{title:"Taxonomies",sidebar_label:"Taxonomies"},sidebar:"docsSidebar",previous:{title:"Capabilities",permalink:"/docs/entities/capabilities"},next:{title:"File Entity",permalink:"/docs/files/file-entity"}},s=[{value:"Taxonomy Types",id:"taxonomy-types",children:[],level:2},{value:"Entity Labels",id:"entity-labels",children:[{value:"System Labels",id:"system-labels",children:[],level:3}],level:2},{value:"Purposes",id:"purposes",children:[],level:2},{value:"Relation Labels",id:"relation-labels",children:[{value:"Predefined Relation Labels",id:"predefined-relation-labels",children:[],level:3}],level:2},{value:"File Collections",id:"file-collections",children:[],level:2},{value:"Working with Taxonomies",id:"working-with-taxonomies",children:[{value:"Label Structure",id:"label-structure",children:[],level:3},{value:"Permissions",id:"permissions",children:[],level:3},{value:"Error Handling",id:"error-handling",children:[],level:3},{value:"Bulk Operations",id:"bulk-operations",children:[],level:3},{value:"SDK Example",id:"sdk-example",children:[],level:3}],level:2}],d={toc:s},m="wrapper";function u(e){let{components:t,...i}=e;return(0,l.kt)(m,(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"taxonomies"},"Taxonomies"),(0,l.kt)("p",null,"[",(0,l.kt)("a",{parentName:"p",href:"/api/entity#tag/Taxonomy"},"API Docs"),"]"),(0,l.kt)("p",null,"Taxonomies provide a labeling and classification system for organizing entities, relations, and files across the epilot platform. They are managed through the ",(0,l.kt)("strong",{parentName:"p"},"Label Builder")," in the epilot UI."),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Label Builder",src:n(57859).Z,width:"3269",height:"2071"})),(0,l.kt)("h2",{id:"taxonomy-types"},"Taxonomy Types"),(0,l.kt)("p",null,"The system supports three taxonomy types, distinguished by slug prefix:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Prefix"),(0,l.kt)("th",{parentName:"tr",align:null},"Purpose"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"Entity Labels")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"_schema_")),(0,l.kt)("td",{parentName:"tr",align:null},"Classify entities by business purpose or status")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"Relation Labels")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"_relation_")),(0,l.kt)("td",{parentName:"tr",align:null},"Classify the nature of entity relationships")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"File Collections")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"_system_")),(0,l.kt)("td",{parentName:"tr",align:null},"Organize documents and files into groups")))),(0,l.kt)("h2",{id:"entity-labels"},"Entity Labels"),(0,l.kt)("p",null,"Entity labels categorize entities within a schema. Use them to organize by customer type, status, workflow stage, or any business-relevant classification."),(0,l.kt)("h3",{id:"system-labels"},"System Labels"),(0,l.kt)("p",null,"These built-in labels are locked and cannot be modified. The platform assigns them automatically during certain operations:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Label"),(0,l.kt)("th",{parentName:"tr",align:null},"Assigned When"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"__hidden")),(0,l.kt)("td",{parentName:"tr",align:null},"Entity is hidden from standard views")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"copy")),(0,l.kt)("td",{parentName:"tr",align:null},"Entity was duplicated")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"merged")),(0,l.kt)("td",{parentName:"tr",align:null},"Entity resulted from a merge operation")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"composite")),(0,l.kt)("td",{parentName:"tr",align:null},"Entity is a composite (e.g. composite price)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"automation")),(0,l.kt)("td",{parentName:"tr",align:null},"Entity was created by an automation")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"bulk-generated")),(0,l.kt)("td",{parentName:"tr",align:null},"Entity was created through a bulk operation")))),(0,l.kt)("h2",{id:"purposes"},"Purposes"),(0,l.kt)("p",null,"Purposes are a standalone taxonomy family (slug: ",(0,l.kt)("inlineCode",{parentName:"p"},"purpose"),") that define the business intent of an entity. Beyond classification, purposes also control visibility of attributes and attribute groups within the entity detail view."),(0,l.kt)("h2",{id:"relation-labels"},"Relation Labels"),(0,l.kt)("p",null,"Relation labels add context to the links between entities, enabling filtering and business logic based on relationship type."),(0,l.kt)("h3",{id:"predefined-relation-labels"},"Predefined Relation Labels"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Address relations"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_address:billing")," \u2014 Billing address"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_address:delivery")," \u2014 Delivery address"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Account relations"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_account:customer")," \u2014 Customer account"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_account:installer")," \u2014 Installer account"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_account:planner")," \u2014 Planner account"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_account:onsite_contact")," \u2014 On-site contact"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_account:architect")," \u2014 Architect account"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_account:supplier")," \u2014 Supplier account"))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Contact relations"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_contact:customer")," \u2014 Customer contact"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_contact:installer")," \u2014 Installer contact"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_contact:planner")," \u2014 Planner contact"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_contact:onsite_contact")," \u2014 On-site contact"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_contact:architect")," \u2014 Architect contact"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_relation_contact:supplier")," \u2014 Supplier contact"))),(0,l.kt)("h2",{id:"file-collections"},"File Collections"),(0,l.kt)("p",null,"File collections organize documents within epilot. Two collection scopes exist:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Global collections")," \u2014 shared across all users and entities (e.g. company policies, standard contracts)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"User collections")," \u2014 personal to a specific user within a schema context (e.g. working documents)")),(0,l.kt)("h2",{id:"working-with-taxonomies"},"Working with Taxonomies"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Label Builder Details",src:n(55374).Z,width:"3265",height:"2063"})),(0,l.kt)("h3",{id:"label-structure"},"Label Structure"),(0,l.kt)("p",null,"Every taxonomy label has three fields:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "uuid",\n  "slug": "_schema_contact:residential",\n  "name": "Residential"\n}\n')),(0,l.kt)("h3",{id:"permissions"},"Permissions"),(0,l.kt)("p",null,"Taxonomy operations require specific permissions:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Permission"),(0,l.kt)("th",{parentName:"tr",align:null},"Allows"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"label_builder:create")),(0,l.kt)("td",{parentName:"tr",align:null},"Create taxonomies and classifications")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"label_builder:edit")),(0,l.kt)("td",{parentName:"tr",align:null},"Update existing labels")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"label_builder:delete")),(0,l.kt)("td",{parentName:"tr",align:null},"Delete labels")))),(0,l.kt)("h3",{id:"error-handling"},"Error Handling"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Error"),(0,l.kt)("th",{parentName:"tr",align:null},"Status"),(0,l.kt)("th",{parentName:"tr",align:null},"Cause"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"TaxonomyNotFoundError")),(0,l.kt)("td",{parentName:"tr",align:null},"404"),(0,l.kt)("td",{parentName:"tr",align:null},"Taxonomy slug does not exist")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"TaxonomyAlreadyExistsError")),(0,l.kt)("td",{parentName:"tr",align:null},"409"),(0,l.kt)("td",{parentName:"tr",align:null},"Taxonomy with this slug already exists")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"TaxonomyValidationError")),(0,l.kt)("td",{parentName:"tr",align:null},"400"),(0,l.kt)("td",{parentName:"tr",align:null},"Invalid request payload")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"TaxonomyInUseError")),(0,l.kt)("td",{parentName:"tr",align:null},"400"),(0,l.kt)("td",{parentName:"tr",align:null},"Cannot delete a taxonomy still in use")))),(0,l.kt)("h3",{id:"bulk-operations"},"Bulk Operations"),(0,l.kt)("p",null,"Create, update, and delete classifications in a single request:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="POST /v1/entity/taxonomies/{taxonomySlug}/classifications"',title:'"POST','/v1/entity/taxonomies/{taxonomySlug}/classifications"':!0},'{\n  "create": [\n    { "id": "uuid", "name": "New Label", "slug": "new-label" }\n  ],\n  "update": [\n    { "id": "existing-id", "name": "Updated Name" }\n  ],\n  "delete": [\n    { "id": "id-to-delete" }\n  ]\n}\n')),(0,l.kt)("h3",{id:"sdk-example"},"SDK Example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-typescript"},"import { getEntityClient } from '@epilot/entity-client';\n\nconst client = getEntityClient();\n\n// Create a taxonomy\nconst taxonomy = await client.createTaxonomy({}, {\n  slug: 'project-status',\n  name: 'Project Status',\n  type: 'entity',\n  enabled: true\n});\n\n// Add classifications\nawait client.updateClassifications({\n  taxonomySlug: 'project-status'\n}, {\n  create: [\n    { id: 'uuid-1', name: 'Planning', slug: 'planning' },\n    { id: 'uuid-2', name: 'In Progress', slug: 'in-progress' },\n    { id: 'uuid-3', name: 'Completed', slug: 'completed' }\n  ]\n});\n\n// Search classifications\nconst results = await client.searchClassifications({\n  taxonomySlug: 'project-status',\n  query: 'progress',\n  include_archived: 'false'\n});\n")))}u.isMDXComponent=!0},55374:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/label-builder-details-2abfb7a5d35f91db71cfc056ccd0eed9.png"},57859:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/label-builder-db15a4ef7a18f5203a968cdfb338e7fc.png"}}]);