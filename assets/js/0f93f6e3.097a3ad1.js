"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[5038],{3905:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>f});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},m=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),u=l(r),p=a,f=u["".concat(c,".").concat(p)]||u[p]||d[p]||o;return r?n.createElement(f,i(i({ref:t},m),{},{components:r})):n.createElement(f,i({ref:t},m))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[u]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},97074:(e,t,r)=>{r.r(t),r.d(t,{contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var n=r(87462),a=(r(67294),r(3905));const o={sidebar_position:2},i="Metering",s={unversionedId:"portals/metering",id:"portals/metering",title:"Metering",description:"[API Docs]",source:"@site/docs/portals/metering.md",sourceDirName:"portals",slug:"/portals/metering",permalink:"/docs/portals/metering",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/portals/metering.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"appsSidebar",previous:{title:"Customer / Installer Portal",permalink:"/docs/portals/customer-portal"},next:{title:"Portal Webhooks",permalink:"/docs/portals/portal-webhooks"}},c=[{value:"Administrator Actions",id:"administrator-actions",children:[],level:2},{value:"Customer Actions",id:"customer-actions",children:[],level:2},{value:"Entities",id:"entities",children:[{value:"Meter",id:"meter",children:[],level:3},{value:"Counter",id:"counter",children:[],level:3}],level:2}],l={toc:c},m="wrapper";function u(e){let{components:t,...r}=e;return(0,a.kt)(m,(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"metering"},"Metering"),(0,a.kt)("p",null,"[",(0,a.kt)("a",{parentName:"p",href:"/api/metering"},"API Docs"),"]\n[",(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@epilot/metering-client"},"SDK"),"]"),(0,a.kt)("p",null,"The Metering API provides a comprehensive set of functionalities for managing meters and their readings within the system. It offers endpoints for retrieving meter information, updating meter details, creating meter readings, and more. The API caters to both administrators and customers, allowing them to perform various operations related to meter management and monitoring."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#administrator-actions"},"Administrator Actions")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#customer-actions"},"Customer Actions"))),(0,a.kt)("h2",{id:"administrator-actions"},"Administrator Actions"),(0,a.kt)("p",null,"[",(0,a.kt)("a",{parentName:"p",href:"/api/metering/#tag/ECP-Admin"},"API Docs"),"]"),(0,a.kt)("p",null,"As an administrator, you have privileged access to the Metering API, enabling you to perform advanced meter management tasks. You can retrieve customer meters to monitor and analyze meter data, update meter details such as type, location, and manufacturer, and retrieve detailed information about a specific meter or counter. Additionally, you can create meter readings to record values, along with relevant metadata such as the person who recorded the reading and the reason behind it. This API also provides functionality for creating multiple meter readings at once, creating readings from journey submissions, and retrieving readings within a specified interval."),(0,a.kt)("h2",{id:"customer-actions"},"Customer Actions"),(0,a.kt)("p",null,"[",(0,a.kt)("a",{parentName:"p",href:"/api/metering/#tag/ECP"},"API Docs"),"]"),(0,a.kt)("p",null,"Customers, specifically those using the ECP (Customer Portal), have access to a tailored set of functionalities within the Metering API. Through the portal, customers can view and access information about their meters. The API allows customers to retrieve their associated meters, providing details such as meter type, location, and associated contracts. Customers can also update specific meter details when necessary. The ECP ensures a user-friendly interface for customers, allowing them to easily manage and monitor their metering information."),(0,a.kt)("h2",{id:"entities"},"Entities"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#meter"},"Meter")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#counter"},"Counter"))),(0,a.kt)("h3",{id:"meter"},"Meter"),(0,a.kt)("p",null,"A meter represents a device used for measuring and recording consumption or production of a particular resource, such as electricity, water, or gas. It is associated with specific attributes such as the meter type, manufacturer, meter number, and location. The Metering API allows administrators and customers to retrieve information about meters, update their details, and perform various operations related to meter readings. The example below is the structure of how a meter entity would like."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "_id": "string",\n    "_title": "Example Entity",\n    "_org": "123",\n    "_tags": [\n    "example",\n    "mock"\n    ],\n    "_created_at": "2021-02-09T12:41:43.662Z",\n    "_updated_at": "2021-02-09T12:41:43.662Z",\n    "_schema": "meter",\n    "ma_lo_id": "A09-123",\n    "meter_type": "three-phase-meter",\n    "tariff_type": "Peak load tariff",\n    "meter_number": "J-1093-1AK",\n    "sector": "power",\n    "location": [\n    {\n        "country": "Germany",\n        "city": "Koln",\n        "postal_code": 81475,\n        "street": "Melateng\xfcrtel",\n        "street_number": 71,\n        "additional_info": "5. Etage",\n        "_tags": [\n        "billing",\n        "delivery"\n        ]\n    }\n    ],\n    "used_for": "Domestic Usage",\n    "manufacturer": "Energy One",\n    "calibration_date": "2022-10-10T00:00:00.000Z",\n    "contract": {\n    "$relation": [\n        {\n        "entity_id": "9a2081a2-1615-44b8-b988-d757983290dd",\n        "_slug": "contact"\n        }\n    ]\n    },\n    "customer": {\n    "$relation": [\n        {\n        "entity_id": "9a2081a2-1615-44b8-b988-d757983290dd",\n        "_slug": "contact"\n        }\n    ]\n    }\n}\n')),(0,a.kt)("h3",{id:"counter"},"Counter"),(0,a.kt)("p",null,"A counter is a component within a meter that keeps track of specific measurements or readings. Counters are typically used to record values related to different aspects of resource consumption or production. For example, in an electricity meter, counters may track energy consumption during peak and off-peak hours or differentiate between energy fed into the grid (feed-in) and consumed from the grid (feed-out). The Metering API enables customers to retrieve counter details, including the counter's ID, direction, transformer ratio, unit of measurement, and current consumption. Customers can also update counter information and retrieve readings associated with specific meters and counters. The example below is the structure of how a counter entity would like. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "_id": "991a1821-43bc-46b8-967d-64a3d87c31f8",\n    "_title": "Example Entity",\n    "_org": "123",\n    "_tags": [\n    "example",\n    "mock"\n    ],\n    "_created_at": "2021-02-09T12:41:43.662Z",\n    "_updated_at": "2021-02-09T12:41:43.662Z",\n    "_schema": "meter_counter",\n    "obis_number": "A-34",\n    "direction": "feed-in",\n    "transformer_ratio": 70,\n    "unit": "w",\n    "forecast_reading_value": "270",\n    "forecast_as_of": "2022-12-10T00:00:00.000Z",\n    "current_consumption": 240,\n    "last_reading": "2022-10-10T00:00:00.000Z",\n    "conversion_factor": 3,\n    "tariff_type": "ht"\n}\n')))}u.isMDXComponent=!0}}]);