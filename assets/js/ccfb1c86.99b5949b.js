"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[43730],{35722:(t,e,n)=>{n.d(e,{G:()=>d});var a=n(42858),i=n(67294),r=n(25108);let l=0,o=!1;const s=(t,e)=>{const n=t?.getAttribute("data-theme")??"light",a="dark"===n?"dark":"default";return e?.theme?.[n]??e?.mermaid?.theme??a},d=t=>{let{chart:e,config:n}=t;const d=(0,i.useRef)(null),p=(0,i.useRef)("mermaid-"+l++),[m,c]=(0,i.useState)(""),u=(0,i.useMemo)((()=>"string"==typeof n?JSON.parse(n):n),[n]);return(0,i.useEffect)((()=>{if("undefined"==typeof window)return;const t=document.querySelector("html"),n=s(t,u);o||(a.Z.initialize({startOnLoad:!1,theme:n,...u?.mermaid||{}}),o=!0);(async()=>{try{const{svg:t}=await a.Z.render(p.current,e);c(t)}catch(t){r.error("Mermaid rendering failed:",t)}})()}),[e,u]),(0,i.useEffect)((()=>{if("undefined"==typeof window)return;const t=document.querySelector("html"),n=new MutationObserver((n=>{for(const i of n){if("attributes"!==i.type||"data-theme"!==i.attributeName)continue;const n=s(t,u);o=!1,a.Z.initialize({startOnLoad:!1,theme:n,...u?.mermaid||{}}),o=!0,p.current="mermaid-"+l++,a.Z.render(p.current,e).then((t=>{let{svg:e}=t;c(e)}));break}}));return n.observe(t,{attributes:!0}),()=>n.disconnect()}),[e,u]),"undefined"==typeof window?i.createElement("div",{className:"mermaid"},e):i.createElement("div",{ref:d,dangerouslySetInnerHTML:{__html:m}})}},43863:(t,e,n)=>{n.r(e),n.d(e,{contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>d});var a=n(87462),i=(n(67294),n(3905)),r=n(35722);const l={sidebar_position:4},o="Permissions",s={unversionedId:"auth/permissions",id:"auth/permissions",title:"Permissions",description:"[API Docs]",source:"@site/docs/auth/permissions.md",sourceDirName:"auth",slug:"/auth/permissions",permalink:"/docs/auth/permissions",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/auth/permissions.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docsSidebar",previous:{title:"Authorization",permalink:"/docs/auth/authorization"},next:{title:"Token Types",permalink:"/docs/auth/token-types"}},d=[{value:"Core Concepts",id:"core-concepts",children:[],level:2},{value:"Grant Structure",id:"grant-structure",children:[],level:2},{value:"Actions",id:"actions",children:[],level:2},{value:"Resource Patterns",id:"resource-patterns",children:[],level:2},{value:"Conditions (Attribute-Based Access Control)",id:"conditions-attribute-based-access-control",children:[{value:"Condition Examples",id:"condition-examples",children:[],level:3}],level:2},{value:"Evaluation Rules",id:"evaluation-rules",children:[],level:2},{value:"Role Types",id:"role-types",children:[],level:2},{value:"Organization Root Role",id:"organization-root-role",children:[],level:2},{value:"Example Role Definition",id:"example-role-definition",children:[],level:2},{value:"See Also",id:"see-also",children:[],level:2}],p={toc:d},m="wrapper";function c(t){let{components:e,...n}=t;return(0,i.kt)(m,(0,a.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"permissions"},"Permissions"),(0,i.kt)("p",null,"[",(0,i.kt)("a",{parentName:"p",href:"/api/permissions"},"API Docs"),"]"),(0,i.kt)("p",null,"epilot implements flexible role-based access control (RBAC) with attribute-based conditions, inspired by the design of AWS IAM policies. The system supports fine-grained control at the role, resource, and attribute level."),(0,i.kt)("h2",{id:"core-concepts"},"Core Concepts"),(0,i.kt)("p",null,"The permissions model has three building blocks:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Users")," are assigned one or more ",(0,i.kt)("strong",{parentName:"li"},"Roles")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Roles")," are collections of ",(0,i.kt)("strong",{parentName:"li"},"Grants")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Grants")," define whether a user is allowed (or explicitly denied) to perform an action on a resource")),(0,i.kt)(r.G,{chart:'flowchart LR\n    User --\x3e|assigned| Role1[Role: Manager]\n    User --\x3e|assigned| Role2[Role: Sales]\n    Role1 --\x3e|contains| G1["entity:* \u2192 allow"]\n    Role1 --\x3e|contains| G2["entity:* on partner:* \u2192 deny"]\n    Role2 --\x3e|contains| G3["entity:view \u2192 allow"]',mdxType:"Mermaid"}),(0,i.kt)("h2",{id:"grant-structure"},"Grant Structure"),(0,i.kt)("p",null,"Each grant specifies an action, an optional resource pattern, an effect, and optional conditions:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Grant with conditions"',title:'"Grant',with:!0,'conditions"':!0},'{\n  "action": "entity:edit",\n  "resource": "contract:*",\n  "effect": "allow",\n  "conditions": [\n    {\n      "attribute": "_tags",\n      "operation": "equals",\n      "values": ["active", "pending"]\n    }\n  ]\n}\n')),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Field"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"action")),(0,i.kt)("td",{parentName:"tr",align:null},"The operation being performed (e.g., ",(0,i.kt)("inlineCode",{parentName:"td"},"entity:view"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"message:send"),"). Supports wildcards (",(0,i.kt)("inlineCode",{parentName:"td"},"entity:*"),").")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"resource")),(0,i.kt)("td",{parentName:"tr",align:null},"The target resource pattern (e.g., ",(0,i.kt)("inlineCode",{parentName:"td"},"contact:*"),", ",(0,i.kt)("inlineCode",{parentName:"td"},"file:*"),"). Defaults to all resources if omitted.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"effect")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"allow")," or ",(0,i.kt)("inlineCode",{parentName:"td"},"deny"),". Defaults to ",(0,i.kt)("inlineCode",{parentName:"td"},"allow"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"conditions")),(0,i.kt)("td",{parentName:"tr",align:null},"Optional array of attribute-based conditions that must all be satisfied.")))),(0,i.kt)("h2",{id:"actions"},"Actions"),(0,i.kt)("p",null,"Actions follow a ",(0,i.kt)("inlineCode",{parentName:"p"},"{domain}:{operation}")," pattern. Common actions include:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Action"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"entity:view")),(0,i.kt)("td",{parentName:"tr",align:null},"Read entities")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"entity:edit")),(0,i.kt)("td",{parentName:"tr",align:null},"Update entities")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"entity:create")),(0,i.kt)("td",{parentName:"tr",align:null},"Create entities")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"entity:delete")),(0,i.kt)("td",{parentName:"tr",align:null},"Delete entities")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"entity:*")),(0,i.kt)("td",{parentName:"tr",align:null},"All entity operations")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"entity:attribute:view")),(0,i.kt)("td",{parentName:"tr",align:null},"View specific entity attributes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"entity:attribute:edit")),(0,i.kt)("td",{parentName:"tr",align:null},"Edit specific entity attributes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"message:view")),(0,i.kt)("td",{parentName:"tr",align:null},"View messages")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"message:send")),(0,i.kt)("td",{parentName:"tr",align:null},"Send messages")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"workflow:*")),(0,i.kt)("td",{parentName:"tr",align:null},"All workflow operations")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"webhook:*")),(0,i.kt)("td",{parentName:"tr",align:null},"All webhook operations")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"user:invite")),(0,i.kt)("td",{parentName:"tr",align:null},"Invite users to the organization")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"role:assign")),(0,i.kt)("td",{parentName:"tr",align:null},"Assign roles to users")))),(0,i.kt)("h2",{id:"resource-patterns"},"Resource Patterns"),(0,i.kt)("p",null,"Resources support wildcards for flexible scoping:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Pattern"),(0,i.kt)("th",{parentName:"tr",align:null},"Matches"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"*")),(0,i.kt)("td",{parentName:"tr",align:null},"All resources")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"contact:*")),(0,i.kt)("td",{parentName:"tr",align:null},"All contacts")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"opportunity:123456")),(0,i.kt)("td",{parentName:"tr",align:null},"A specific opportunity")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"contact:Personal Details:*")),(0,i.kt)("td",{parentName:"tr",align:null},'All attributes in the "Personal Details" group on contacts')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"contact:Personal Details:phone")),(0,i.kt)("td",{parentName:"tr",align:null},"The phone attribute specifically")))),(0,i.kt)("p",null,"Attribute-level resources follow the format ",(0,i.kt)("inlineCode",{parentName:"p"},"{schema}:{group}:{attribute}"),", enabling permissions down to individual fields on entity types."),(0,i.kt)("h2",{id:"conditions-attribute-based-access-control"},"Conditions (Attribute-Based Access Control)"),(0,i.kt)("p",null,"Conditions add dynamic, data-driven rules to grants. When conditions are present, the grant only applies if the entity being accessed satisfies all conditions."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Grant restricted to entities with specific tags"',title:'"Grant',restricted:!0,to:!0,entities:!0,with:!0,specific:!0,'tags"':!0},'{\n  "action": "entity:view",\n  "resource": "file:*",\n  "conditions": [\n    {\n      "attribute": "_tags",\n      "operation": "equals",\n      "values": ["offer", "contract"]\n    }\n  ]\n}\n')),(0,i.kt)("p",null,"Conditions support:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Flat attributes")," -- ",(0,i.kt)("inlineCode",{parentName:"li"},'"attribute": "_tags"')," matches a top-level field"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Nested paths")," -- ",(0,i.kt)("inlineCode",{parentName:"li"},'"attribute": "_customer._payment._type"')," matches deeply nested values"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Wildcard paths")," -- ",(0,i.kt)("inlineCode",{parentName:"li"},'"attribute": "workflows.*.currentTask"')," matches across dynamic keys"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Array matching")," -- if the attribute is an array, the condition matches if any element equals one of the specified values")),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Conditions are evaluated at runtime with actual entity data. This enables scenarios like restricting a role to only edit entities in a specific workflow step, or only view files tagged with certain categories."))),(0,i.kt)("h3",{id:"condition-examples"},"Condition Examples"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Restrict to entities in a specific workflow step:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Only entities at a specific task"',title:'"Only',entities:!0,at:!0,a:!0,specific:!0,'task"':!0},'{\n  "action": "entity:edit",\n  "resource": "*",\n  "conditions": [\n    {\n      "attribute": "workflows.*.currentTask",\n      "operation": "equals",\n      "values": ["review", "approval"]\n    }\n  ]\n}\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Restrict to entities owned by specific organizations (cross-org sharing):")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="ACL-based access control"',title:'"ACL-based',access:!0,'control"':!0},'{\n  "action": "entity:edit",\n  "resource": "*",\n  "conditions": [\n    {\n      "attribute": "_acl.edit",\n      "operation": "equals",\n      "values": ["org_911215"]\n    }\n  ]\n}\n')),(0,i.kt)("h2",{id:"evaluation-rules"},"Evaluation Rules"),(0,i.kt)("p",null,"Grant evaluation follows AWS IAM conventions:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Tenant isolation")," -- Roles only grant access within their own organization."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Owner role")," -- The built-in ",(0,i.kt)("inlineCode",{parentName:"li"},"owner")," role (present in every organization) inherits all organization grants."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Least privilege")," -- Roles have no grants by default."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Dual-role matching")," -- Both the organization root role grant ",(0,i.kt)("strong",{parentName:"li"},"and")," a user role grant must match for access to be granted."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Explicit deny")," -- An explicit ",(0,i.kt)("inlineCode",{parentName:"li"},"deny")," in any matched grant overrides all ",(0,i.kt)("inlineCode",{parentName:"li"},"allow")," grants. Use deny grants to create exceptions within broad allow rules."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Wildcard matching")," -- Actions and resources support wildcard expressions (e.g., ",(0,i.kt)("inlineCode",{parentName:"li"},"entity:*"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"contact:*"),")."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Condition evaluation")," -- When conditions are present, all conditions on a grant must be satisfied (AND logic).")),(0,i.kt)("h2",{id:"role-types"},"Role Types"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"User Role")),(0,i.kt)("td",{parentName:"tr",align:null},"Standard role assigned to specific users. Can inherit from a parent org or share role.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"Organization Role")),(0,i.kt)("td",{parentName:"tr",align:null},"Automatically applied to all users in the organization. Defines the maximum permission ceiling.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"Share Role")),(0,i.kt)("td",{parentName:"tr",align:null},"Grants cross-organization access for partner sharing scenarios.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"Partner Role")),(0,i.kt)("td",{parentName:"tr",align:null},"Assigned to users in partner organizations with configurable user limits.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"Portal Role")),(0,i.kt)("td",{parentName:"tr",align:null},"Implicit role for end-customer portal users with restricted permissions.")))),(0,i.kt)("h2",{id:"organization-root-role"},"Organization Root Role"),(0,i.kt)("p",null,"Every organization has a mandatory root role that defines the ",(0,i.kt)("strong",{parentName:"p"},"maximum permission set")," any user can receive. The organization's subscription tier determines this role. User roles can only grant permissions up to the ceiling set by the root role."),(0,i.kt)("p",null,"This two-level model ensures that subscription tiers control feature access at the organization level, while user roles provide fine-grained access within those boundaries."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"The root role also enables feature flagging via explicit denies. For example, an organization on a lower tier might have ",(0,i.kt)("inlineCode",{parentName:"p"},'"action": "webhook:*", "effect": "deny"')," on its root role, preventing any user from accessing webhook features regardless of their user roles."))),(0,i.kt)("h2",{id:"example-role-definition"},"Example Role Definition"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Manager role with entity access and partner deny"',title:'"Manager',role:!0,with:!0,entity:!0,access:!0,and:!0,partner:!0,'deny"':!0},'{\n  "id": "66:manager",\n  "name": "Manager",\n  "slug": "manager",\n  "organization_id": "66",\n  "type": "user_role",\n  "grants": [\n    { "action": "entity:*", "effect": "allow" },\n    { "action": "entity:*", "resource": "partner:*", "effect": "deny" },\n    { "action": "message:*", "effect": "allow" },\n    { "action": "workflow:*", "effect": "allow" }\n  ]\n}\n')),(0,i.kt)("p",null,"This role allows all entity, messaging, and workflow operations, but explicitly denies access to partner-owned entities."),(0,i.kt)("h2",{id:"see-also"},"See Also"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/auth/authorization"},"Authorization")," -- how epilot authorizes API requests"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/auth/token-types"},"Token Types")," -- comparison of all epilot token types"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/architecture/security"},"Security Architecture")," -- platform security overview")))}c.isMDXComponent=!0}}]);