"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[5731],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),u=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return o.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(n),h=a,m=d["".concat(s,".").concat(h)]||d[h]||c[h]||r;return n?o.createElement(m,i(i({ref:t},p),{},{components:n})):o.createElement(m,i({ref:t},p))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var u=2;u<r;u++)i[u]=n[u];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},728:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var o=n(7462),a=(n(7294),n(3905));const r={sidebar_position:14},i="Webhooks",l={unversionedId:"webhooks",id:"webhooks",title:"Webhooks",description:"[API Docs]",source:"@site/docs/webhooks.md",sourceDirName:".",slug:"/webhooks",permalink:"/docs/webhooks",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/webhooks.md",tags:[],version:"current",sidebarPosition:14,frontMatter:{sidebar_position:14},sidebar:"tutorialSidebar",previous:{title:"Sharing",permalink:"/docs/collaboration/sharing"},next:{title:"Overview",permalink:"/docs/workflows/intro"}},s=[{value:"Payload configuration",id:"payload-configuration",children:[],level:3},{value:"Custom oauth parameter",id:"custom-oauth-parameter",children:[],level:3},{value:"Timeout",id:"timeout",children:[],level:2}],u={toc:s};function p(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,o.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"webhooks"},"Webhooks"),(0,a.kt)("p",null,"[",(0,a.kt)("a",{parentName:"p",href:"/api/webhooks"},"API Docs"),"]\n[",(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@epilot/webhooks-client"},"SDK"),"]"),(0,a.kt)("p",null,"The epilot ",(0,a.kt)("a",{parentName:"p",href:"/api/webhooks"},"Webhooks API")," provides the possibility to subscribe to epilot public events. This will allow you to receive notifications with payload to your configured webhook URL every time events happen in your account."),(0,a.kt)("p",null,"This document describes the steps how to configure hooks, subscribe to events and how to manage those configurations. Service is reachable using https connection to ensure encryption between client and service."),(0,a.kt)("p",null,"Webhooks can be comfortably configured and managed by admin users in epilot portal."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"/api/webhooks"},"Webhooks API Documentation")),(0,a.kt)("h1",{id:"customization"},"Customization"),(0,a.kt)("h3",{id:"payload-configuration"},"Payload configuration"),(0,a.kt)("p",null,"Customizing the payload of an incoming webhook request is entirely feasible. The standard structure for this customization typically follows this general format:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},"{\n   metadata: {\n    organization_id: '',\n    ...\n   }, // always present\n   entity: {} // always present,\n   relations: {} // optional,\n   activity: {} // optional,\n   changed_attributes: {\n      added: {},\n      deleted: {},\n      updated: {}\n   } // optional\n}\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Include Changed Attributes",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"shows the ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("em",{parentName:"strong"},"changed"))," added|deleted|updated attributes ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("em",{parentName:"strong"},"after"))," the event"),(0,a.kt)("li",{parentName:"ul"},"important note: this will only be included if the event is a change event e.g. an ",(0,a.kt)("inlineCode",{parentName:"li"},"Entity update: Opportunity")," automation trigger. Manual trigger will not fill changed attribures."))),(0,a.kt)("li",{parentName:"ul"},"Include Activity"),(0,a.kt)("li",{parentName:"ul"},"Include Relations",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"hydrated")," relations to other entities"),(0,a.kt)("li",{parentName:"ul"},"important note: including this can increase the payload size significantly")))),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Custom Webhook Payload Configuration",src:n(7245).Z,width:"1990",height:"898"})),(0,a.kt)("h3",{id:"custom-oauth-parameter"},"Custom oauth parameter"),(0,a.kt)("p",null,"Custom OAuth parameters can be seamlessly integrated into the webhook configuration process. These parameters can be included as part of the OAuth request, appended as body, query, or header parameters. This feature empowers users to augment the OAuth request with supplementary information as needed, enhancing the flexibility and customization options within the authentication flow."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Custom Webhook Ouath Parameter",src:n(2273).Z,width:"954",height:"1102"})),(0,a.kt)("h1",{id:"limitations"},"Limitations"),(0,a.kt)("h2",{id:"timeout"},"Timeout"),(0,a.kt)("p",null,"The maximum allowable duration for a request is 5 seconds. Should the request exceed this time limit, it will be automatically aborted, prompting the webhook to retry the request up to 2 times. If, after these retries, the request continues to fail, the webhook will be flagged as unsuccessful."))}p.isMDXComponent=!0},2273:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/webhook-custom-oauth-b9ad4aafa692632ee4d4e17a1d1abfab.png"},7245:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/webhook-custom-payload-5f4ae66c6785463dc95e484832eca2dc.png"}}]);