"use strict";(self.webpackChunkepilot_dev_handbook=self.webpackChunkepilot_dev_handbook||[]).push([[10351],{35722:(e,t,a)=>{a.d(t,{G:()=>m});var n=a(42858),r=a(67294),s=a(25108);let i=0,l=!1;const d=(e,t)=>{const a=e?.getAttribute("data-theme")??"light",n="dark"===a?"dark":"default";return t?.theme?.[a]??t?.mermaid?.theme??n},m=e=>{let{chart:t,config:a}=e;const m=(0,r.useRef)(null),o=(0,r.useRef)("mermaid-"+i++),[p,g]=(0,r.useState)(""),u=(0,r.useMemo)((()=>"string"==typeof a?JSON.parse(a):a),[a]);return(0,r.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),a=d(e,u);l||(n.Z.initialize({startOnLoad:!1,theme:a,...u?.mermaid||{}}),l=!0);(async()=>{try{const{svg:e}=await n.Z.render(o.current,t);g(e)}catch(e){s.error("Mermaid rendering failed:",e)}})()}),[t,u]),(0,r.useEffect)((()=>{if("undefined"==typeof window)return;const e=document.querySelector("html"),a=new MutationObserver((a=>{for(const r of a){if("attributes"!==r.type||"data-theme"!==r.attributeName)continue;const a=d(e,u);l=!1,n.Z.initialize({startOnLoad:!1,theme:a,...u?.mermaid||{}}),l=!0,o.current="mermaid-"+i++,n.Z.render(o.current,t).then((e=>{let{svg:t}=e;g(t)}));break}}));return a.observe(e,{attributes:!0}),()=>a.disconnect()}),[t,u]),"undefined"==typeof window?r.createElement("div",{className:"mermaid"},t):r.createElement("div",{ref:m,dangerouslySetInnerHTML:{__html:p}})}},41738:(e,t,a)=>{a.r(t),a.d(t,{contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>l,toc:()=>d});var n=a(87462),r=(a(67294),a(3905));a(35722);const s={sidebar_position:2},i="Message API",l={unversionedId:"messaging/message-api",id:"messaging/message-api",title:"Message API",description:"[API Docs]",source:"@site/docs/messaging/message-api.md",sourceDirName:"messaging",slug:"/messaging/message-api",permalink:"/docs/messaging/message-api",editUrl:"https://github.com/epilot-dev/docs/edit/main/docs/messaging/message-api.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docsSidebar",previous:{title:"Email Settings",permalink:"/docs/messaging/email-settings"},next:{title:"Overview",permalink:"/docs/notes/intro"}},d=[{value:"Key Operations",id:"key-operations",children:[],level:2}],m={toc:d},o="wrapper";function p(e){let{components:t,...a}=e;return(0,r.kt)(o,(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"message-api"},"Message API"),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"/api/message"},"API Docs"),"]\n[",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@epilot/message-client"},"SDK"),"]"),(0,r.kt)("p",null,"The Message API is the central email service for epilot. It handles sending, receiving, and managing email messages within the platform."),(0,r.kt)("p",null,"All messages in epilot are stored as message entities and organized into threads. Each message entity contains the email content, metadata (sender, recipients, subject), and relations to file entities for attachments."),(0,r.kt)("h2",{id:"key-operations"},"Key Operations"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Operation"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sendMessage")),(0,r.kt)("td",{parentName:"tr",align:null},"Send an email message from an epilot email address")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"getMessage")),(0,r.kt)("td",{parentName:"tr",align:null},"Retrieve a single message by ID")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"searchMessages")),(0,r.kt)("td",{parentName:"tr",align:null},"Search messages")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"markReadMessage")),(0,r.kt)("td",{parentName:"tr",align:null},"Mark a message as read")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"trashMessage")),(0,r.kt)("td",{parentName:"tr",align:null},"Move a message to trash")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"searchThreads")),(0,r.kt)("td",{parentName:"tr",align:null},"Search message threads")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"assignThread")),(0,r.kt)("td",{parentName:"tr",align:null},"Assign a thread to a user")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"createDraft")),(0,r.kt)("td",{parentName:"tr",align:null},"Create a draft message")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sendDraft")),(0,r.kt)("td",{parentName:"tr",align:null},"Send a draft message")))),(0,r.kt)("p",null,"See the full ",(0,r.kt)("a",{parentName:"p",href:"/api/message"},"API reference")," for request and response schemas."))}p.isMDXComponent=!0}}]);